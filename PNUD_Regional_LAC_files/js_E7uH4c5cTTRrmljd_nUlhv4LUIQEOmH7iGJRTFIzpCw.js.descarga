/* @license MIT https://raw.githubusercontent.com/focus-trap/tabbable/v6.3.0/LICENSE */
/*!
* tabbable 6.3.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):(t="undefined"!=typeof globalThis?globalThis:t||self,function(){var n=t.tabbable,o=t.tabbable={};e(o),o.noConflict=function(){return t.tabbable=n,o}}())}(this,(function(t){"use strict";var e=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],n=e.join(","),o="undefined"==typeof Element,r=o?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,i=!o&&Element.prototype.getRootNode?function(t){var e;return null==t||null===(e=t.getRootNode)||void 0===e?void 0:e.call(t)}:function(t){return null==t?void 0:t.ownerDocument},a=function(t,e){var n;void 0===e&&(e=!0);var o=null==t||null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,"inert");return""===o||"true"===o||e&&t&&a(t.parentNode)},l=function(t,e,o){if(a(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(n));return e&&r.call(t,n)&&i.unshift(t),i=i.filter(o)},u=function(t,e,o){for(var i=[],l=Array.from(t);l.length;){var c=l.shift();if(!a(c,!1))if("SLOT"===c.tagName){var d=c.assignedElements(),f=d.length?d:c.children,s=u(f,!0,o);o.flatten?i.push.apply(i,s):i.push({scopeParent:c,candidates:s})}else{r.call(c,n)&&o.filter(c)&&(e||!t.includes(c))&&i.push(c);var p=c.shadowRoot||"function"==typeof o.getShadowRoot&&o.getShadowRoot(c),h=!a(p,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(c));if(p&&h){var v=u(!0===p?c.children:p.children,!0,o);o.flatten?i.push.apply(i,v):i.push({scopeParent:c,candidates:v})}else l.unshift.apply(l,c.children)}}return i},c=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},d=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||function(t){var e,n=null==t||null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"contenteditable");return""===n||"true"===n}(t))&&!c(t)?0:t.tabIndex},f=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},s=function(t){return"INPUT"===t.tagName},p=function(t){return function(t){return s(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e,n=t.form||i(t),o=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)e=o(window.CSS.escape(t.name));else try{e=o(t.name)}catch(t){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",t.message),!1}var r=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}(e,t.form);return!r||r===t}(t)},h=function(t){var e=t.getBoundingClientRect(),n=e.width,o=e.height;return 0===n&&0===o},v=function(t,e){var n=e.displayCheck,o=e.getShadowRoot;if("full-native"===n&&"checkVisibility"in t)return!t.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});if("hidden"===getComputedStyle(t).visibility)return!0;var a=r.call(t,"details>summary:first-of-type")?t.parentElement:t;if(r.call(a,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"full-native"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return h(t)}else{if("function"==typeof o){for(var l=t;t;){var u=t.parentElement,c=i(t);if(u&&!u.shadowRoot&&!0===o(u))return h(t);t=t.assignedSlot?t.assignedSlot:u||c===t.ownerDocument?u:c.host}t=l}if(function(t){var e,n,o,r,a=t&&i(t),l=null===(e=a)||void 0===e?void 0:e.host,u=!1;if(a&&a!==t)for(u=!!(null!==(n=l)&&void 0!==n&&null!==(o=n.ownerDocument)&&void 0!==o&&o.contains(l)||null!=t&&null!==(r=t.ownerDocument)&&void 0!==r&&r.contains(t));!u&&l;){var c,d,f;u=!(null===(d=l=null===(c=a=i(l))||void 0===c?void 0:c.host)||void 0===d||null===(f=d.ownerDocument)||void 0===f||!f.contains(l))}return u}(t))return!t.getClientRects().length;if("legacy-full"!==n)return!0}return!1},b=function(t,e){return!(e.disabled||a(e)||function(t){return s(t)&&"hidden"===t.type}(e)||v(e,t)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))}(e)||function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var o=e.children.item(n);if("LEGEND"===o.tagName)return!!r.call(e,"fieldset[disabled] *")||!o.contains(t)}return!0}e=e.parentElement}return!1}(e))},y=function(t,e){return!(p(e)||d(e)<0||!b(t,e))},m=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},g=function(t){var e=[],n=[];return t.forEach((function(t,o){var r=!!t.scopeParent,i=r?t.scopeParent:t,a=function(t,e){var n=d(t);return n<0&&e&&!c(t)?0:n}(i,r),l=r?g(t.candidates):i;0===a?r?e.push.apply(e,l):e.push(i):n.push({documentOrder:o,tabIndex:a,item:t,isScope:r,content:l})})),n.sort(f).reduce((function(t,e){return e.isScope?t.push.apply(t,e.content):t.push(e.content),t}),[]).concat(e)},w=e.concat("iframe").join(",");t.focusable=function(t,e){return(e=e||{}).getShadowRoot?u([t],e.includeContainer,{filter:b.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):l(t,e.includeContainer,b.bind(null,e))},t.getTabIndex=d,t.isFocusable=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==r.call(t,w)&&b(e,t)},t.isTabbable=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==r.call(t,n)&&y(e,t)},t.tabbable=function(t,e){var n;return n=(e=e||{}).getShadowRoot?u([t],e.includeContainer,{filter:y.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:m}):l(t,e.includeContainer,y.bind(null,e)),g(n)}}));

;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
;(function(factory){'use strict';if(typeof define==='function'&&define.amd)define(['jquery'],factory);else if(typeof module!=='undefined'&&module.exports)module.exports=factory(require('jquery'));else factory(jQuery);})(function($){'use strict';var $scrollTo=$.scrollTo=function(target,duration,settings){return $(window).scrollTo(target,duration,settings);};$scrollTo.defaults={axis:'xy',duration:0,limit:true};function isWin(elem){return !elem.nodeName||$.inArray(elem.nodeName.toLowerCase(),['iframe','#document','html','body'])!==-1;}$.fn.scrollTo=function(target,duration,settings){if(typeof duration==='object'){settings=duration;duration=0;}if(typeof settings==='function')settings={onAfter:settings};if(target==='max')target=9e9;settings=$.extend({},$scrollTo.defaults,settings);duration=duration||settings.duration;var queue=settings.queue&&settings.axis.length>1;if(queue)duration/=2;settings.offset=both(settings.offset);settings.over=both(settings.over);return this.each(function(){if(target===null)return;var win=isWin(this),elem=win?this.contentWindow||window:this,$elem=$(elem),targ=target,attr={},toff;switch(typeof targ){case 'number':case 'string':if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break;}targ=win?$(targ):$(targ,elem);case 'object':if(targ.length===0)return;if(targ.is||targ.style)toff=(targ=$(targ)).offset();}var offset=typeof settings.offset==='function'&&settings.offset(elem,targ)||settings.offset;$.each(settings.axis.split(''),function(i,axis){var Pos=axis==='x'?'Left':'Top',pos=Pos.toLowerCase(),key='scroll'+Pos,prev=$elem[key](),max=$scrollTo.max(elem,axis);if(toff){attr[key]=toff[pos]+(win?0:prev-$elem.offset()[pos]);if(settings.margin){attr[key]-=parseInt(targ.css('margin'+Pos),10)||0;attr[key]-=parseInt(targ.css('border'+Pos+'Width'),10)||0;}attr[key]+=offset[pos]||0;if(settings.over[pos])attr[key]+=targ[axis==='x'?'width':'height']()*settings.over[pos];}else{var val=targ[pos];attr[key]=val.slice&&val.slice(-1)==='%'?parseFloat(val)/100*max:val;}if(settings.limit&&/^\d+$/.test(attr[key]))attr[key]=attr[key]<=0?0:Math.min(attr[key],max);if(!i&&settings.axis.length>1)if(prev===attr[key])attr={};else{if(queue){animate(settings.onAfterFirst);attr={};}}});animate(settings.onAfter);function animate(callback){var opts=$.extend({},settings,{queue:true,duration,complete:callback&&function(){callback.call(elem,targ,settings);}});$elem.animate(attr,opts);}});};$scrollTo.max=function(elem,axis){var Dim=axis==='x'?'Width':'Height',scroll='scroll'+Dim;if(!isWin(elem))return elem[scroll]-$(elem)[Dim.toLowerCase()]();var size='client'+Dim,doc=elem.ownerDocument||elem.document,html=doc.documentElement,body=doc.body;return Math.max(html[scroll],body[scroll])-Math.min(html[size],body[size]);};function both(val){return typeof val==='function'||$.isPlainObject(val)?val:{top:val,left:val};}$.Tween.propHooks.scrollLeft=$.Tween.propHooks.scrollTop={get:function(t){return $(t.elem)[t.prop]();},set:function(t){var curr=this.get(t);if(t.options.interrupt&&t._last&&t._last!==curr)return $(t.elem).stop();var next=Math.round(t.now);if(curr!==next){$(t.elem)[t.prop](next);t._last=this.get(t);}}};return $scrollTo;});;
if(!Array.prototype.find)Object.defineProperty(Array.prototype,"find",{value:function(predicate){if(this==null)throw new TypeError('"this" is null or not defined');var o=Object(this);var len=o.length>>>0;if(typeof predicate!=="function")throw new TypeError("predicate must be a function");var thisArg=arguments[1];var k=0;while(k<len){var kValue=o[k];if(predicate.call(thisArg,kValue,k,o))return kValue;k++;}return undefined;},configurable:true,writable:true});(function($,once){"use strict";Drupal.behaviors.CohesionLink={attach:function(context){var cmm=new Drupal.CohesionResponsiveBreakpoints();$.each(once("coh-js-scroll-to-init",".coh-js-scroll-to",context),bindScrollTo);$.each(once("coh-js-scroll-top-init",".coh-js-scroll-top",context),bindScrollTop);$.each(once("coh-toggle-modifier-init",".coh-interaction",context),bindModifier);$.each(once("coh-animation-init",".coh-interaction",context),bindAnimation);function whichTransitionEvent(){var t,el=document.createElement("fakeelement");var transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in transitions)if(el.style[t]!==undefined)return transitions[t];}function getComponentClass($el){if(!$el||!$el.length)return undefined;for(var i=0;i<$el.prop("classList").length;i++)if($el.prop("classList")[i].match(/coh-component-instance-[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/))return $el.prop("classList")[i];}function bindScrollTo(){var $this=$(this);$this.on("click",function(e){e.preventDefault();var defaultSettings={duration:450,offset:0};var scrollTarget=$this.data("cohScrollTo");var scrollDuration=$this.data("cohScrollDuration");var scrollOffset=function(){var offset=$this.data("cohScrollOffset");if(typeof offset==="string"){var $el=$(offset);if($el.length)return 0-$el.height();return 0;}return offset*-1;};var scrollSettings={duration:scrollDuration,offset:scrollOffset()};var settings=$.extend(defaultSettings,scrollSettings);$("html, body").scrollTo(scrollTarget,settings);});}function bindScrollTop(){$(this).on("click",function(e){e.preventDefault();$("html, body").scrollTo(0,450);});}function bindModifier(){var settings=$(this).data("interactionModifiers");if(!settings||settings[0].modifierType==="")return;$(this).on("click.coh.modifier",function(e){var $this=$(this);e.preventDefault();var modifier_types={"add-modifier":"addClass","remove-modifier":"removeClass","toggle-modifier":"toggleClass","toggle-modifier-accessible-collapsed":"toggleClass","toggle-modifier-accessible-expanded":"toggleClass"};for(var i=0;i<settings.length;i++){if(!settings[i].modifierName){console.warn('Link element is set to toggle a modifier class on a target element but no "Modifier class name" was specified. You must specify a "Modifier class name".');return;}var modifier_name=settings[i].modifierName.replace(/^\./,"");var interaction_target=settings[i].interactionTarget;var modifier_type=settings[i].modifierType;var transitionEvent=whichTransitionEvent();var $interaction_scope;var $target;if(settings[i].interactionScope!=="this"&&!interaction_target){console.warn('Link element is set to "'+modifier_type+'" but does not have a "Target (jQuery selector)" specified. You must specify a "Target (jQuery selector)" or set "Scope to" to "This element"');return;}$interaction_scope=getScope($this,settings[i].interactionScope,settings[i].interactionParent);$target=getTarget($this,interaction_target,$interaction_scope,settings[i].interaction_scope);if($target.length){$this.data("clickedModifier",!$this.data.clickedModifier);$target[modifier_types[modifier_type]](modifier_name).addClass("coh-transition");$target.on(transitionEvent,function(){$(this).removeClass("coh-transition").off(transitionEvent);});if(modifier_type.indexOf("toggle-modifier-accessible-")===0)$(this).attr("aria-expanded",$(this).attr("aria-expanded")==="true"?"false":"true");Drupal.attachBehaviors($target[0]);}}});}function cohCheckDisplayResize(mm){var currentSettings=mm.cohesion.settings.breakpoints[mm.cohesion.key]||{};var animSettings=currentSettings.linkAnimation||currentSettings.buttonAnimation||[];mm.cohesion.settings.element.data("previousBreakPointAnimSettings").forEach(function(prevSetting){var matchedSetting=animSettings.find(function(setting){return prevSetting.animationTarget===setting.animationTarget;});if(!matchedSetting&&prevSetting.displayReset!==false)if(mm.cohesion.settings.element.data("clickedAnimation")){runAnimation(mm.cohesion.settings.element,prevSetting,true);if(mm.cohesion.settings.element.data("clickedModifier"))mm.cohesion.settings.element.trigger("click.coh.modifier");}else{if(prevSetting.animationTarget){var $interaction_scope=getScope(mm.cohesion.settings.element,prevSetting.animationScope,prevSetting.animationParent);var $target=getTarget(mm.cohesion.settings.element,prevSetting.animationTarget,$interaction_scope,prevSetting.animationScope);$target.css("display","");}}});mm.cohesion.settings.element.data("previousBreakPointAnimSettings",animSettings||[]);}function bindAnimation(){var $this=$(this),data=$this.data("cohSettings"),settings={element:$this,breakpoints:{}},key;$this.data("previousBreakPointAnimSettings",[]);for(var i=0;i<cmm.breakpoints.length;i++){key=cmm.breakpoints[i].key;settings.breakpoints[key]={};if(typeof data[key]!=="undefined"&&!$.isEmptyObject(data[key])){settings.breakpoints[key]=data[key];var previous=data[key];}else{if(typeof cmm.breakpoints[i-1]!=="undefined"&&typeof previous!=="undefined")settings.breakpoints[key]=previous;}}cmm.addListeners(settings,cohCheckDisplayResize);$this.on("click.coh.animation",function(e){e.preventDefault();var currentSettings=settings.breakpoints[cmm.getCurrentBreakpoint().key];currentSettings=currentSettings.linkAnimation||currentSettings.buttonAnimation;if(currentSettings)for(var i=0;i<currentSettings.length;i++){var currentSetting=currentSettings[i];if(currentSetting.animationType!=="none")runAnimation($this,currentSetting);}});}function runAnimation($this,settings,removeDisplay){var $interaction_scope;var $target,origin;$interaction_scope=getScope($this,settings.animationScope,settings.animationParent);$target=getTarget($this,settings.animationTarget,$interaction_scope,settings.animationScope);if($target.length){$this.data("clickedAnimation",!$this.data("clickedAnimation"));if(settings.animationOrigin)origin=settings.animationOrigin.split(",");$.each($($target),function(){var $that=$(this);$that.toggle({effect:settings.animationType,direction:settings.animationDirection,distance:settings.animationDistance,pieces:settings.animationPieces,percent:settings.animationScale,origin,size:settings.animationFoldHeight,horizFirst:settings.animationHorizontalFirst,times:settings.animationIterations,easing:settings.animationEasing,duration:removeDisplay?0:settings.animationDuration,complete:function(){Drupal.attachBehaviors($(this)[0]);if(removeDisplay)$that.css("display","");}});});}}function getScope($this,scope,parent){var $interaction_scope;switch(scope){case "this":$interaction_scope=$this;break;case "parent":$interaction_scope=$this.closest(parent);break;case "component":var componentClass=getComponentClass($this.closest(".coh-component"));if(componentClass)$interaction_scope=$("."+componentClass);else $interaction_scope=$(document);break;default:$interaction_scope=$(document);break;}return $interaction_scope;}function getTarget($this,interaction_target,$interaction_scope,interaction_scope){var $target=$();if(interaction_scope==="this"&&!interaction_target)$target=$this;else{if(!interaction_target){console.warn('Element does not have a "Target (jQuery selector)" specified. You must specify a "Target (jQuery selector)" or set "Scope to" to "This element".');return $target;}}if(!$target.length)$target=$(interaction_target,$interaction_scope);if(!$target.length)$target=$interaction_scope.filter(interaction_target);if(!$target.length)$target=$interaction_scope.find($(interaction_target));if(interaction_target.indexOf(".")!==0){if(!$target.length)$target=$interaction_scope.filter("."+interaction_target);if(!$target.length)$target=$interaction_scope.find($("."+interaction_target));}if(!$target.length)console.warn('Element has "Target (jQuery selector)" set to "'+interaction_target+'", but no matching element was found on the page.');return $target;}}};})(jQuery,once);;
(function($,Drupal,once,drupalSettings){'use strict';Drupal.behaviors.CohesionRowForColumns={attach:function(context,settings){const isMatchHeightEnabled=drupalSettings.cohesion.front_end_settings.global_js.matchHeight;if(isMatchHeightEnabled)$.each(once('coh-row-match-heights-init','[data-coh-row-match-heights]',context),function(){var targets=$(this).data('cohRowMatchHeights');$('> .coh-row-inner',this).cohesionContainerMatchHeights({'targets':targets,'context':context});});}};})(jQuery,Drupal,once,drupalSettings);;
(function($,Drupal,drupalSettings){"use strict";Drupal.CohesionResponsiveBreakpoints=function(settings){this.constants={'desktop':'desktop-first','mobile':'mobile-first','widthType':{'fluid':'fluid','fixed':'fixed'},'mediaQuery':{'all':'all','max':'max-width','min':'min-width'}};this.settings=settings||drupalSettings.cohesion.responsive_grid_settings;this.breakpoints=[];this.listeners={};this.init=function(){this.sortBreakpoints();};this.getBreakpointMediaQuery=function(breakpoint){if(this.getGridType()===this.constants.mobile)if(breakpoint===this.getFirstBreakpoint())return this.constants.mediaQuery.all;else if(typeof this.getBreakpoints()[breakpoint]!=='undefined')return '(min-width: '+this.getBreakpointWidth(breakpoint)+'px)';else return '(min-width: '+breakpoint+'px)';if(this.getGridType()===this.constants.desktop){var breakpointIndex=this.getBreakpointIndex(breakpoint);var minWidth=0;var breakpointMaxWidth=false;if(breakpoint!==this.getLastBreakpoint())minWidth=this.getBreakpointWidth(this.breakpoints[breakpointIndex].key);if(breakpoint!==this.getFirstBreakpoint())breakpointMaxWidth=this.getBreakpointWidth(this.breakpoints[breakpointIndex-1].key)-1;var mediaQuery='(min-width: '+minWidth+'px)';if(breakpointMaxWidth)mediaQuery=mediaQuery+' and (max-width: '+breakpointMaxWidth+'px)';return mediaQuery;}};this.getFirstBreakpoint=function(){return this.breakpoints[0].key;};this.getLastBreakpoint=function(){return this.breakpoints[this.breakpoints.length-1].key;};this.getGridType=function(){return this.settings.gridType;};this.isMobileFirst=function(){return this.settings.gridType===this.constants.mobile;};this.isDesktopFirst=function(){return this.settings.gridType===this.constants.desktop;};this.getBreakpointType=function(breakpoint){return this.settings.breakpoints[breakpoint].widthType;};this.getBreakpointWidth=function(breakpoint){return this.settings.breakpoints[breakpoint].width;};this.getBreakpointMediaWidth=function(breakpoint){if(this.getGridType()===this.constants.mobile)if(breakpoint===this.getFirstBreakpoint())return 0;else if(typeof this.getBreakpoints()[breakpoint]!=='undefined')return this.getBreakpointWidth(breakpoint);else return breakpoint;if(this.getGridType()===this.constants.desktop){var breakpointIndex=this.getBreakpointIndex(breakpoint);var minWidth=0;var breakpointMaxWidth=false;if(typeof this.breakpoints[breakpointIndex-1]!=='undefined')minWidth=this.getBreakpointWidth(this.breakpoints[breakpointIndex].key);if(breakpoint!==this.getFirstBreakpoint())breakpointMaxWidth=this.getBreakpointWidth(this.breakpoints[breakpointIndex-1].key)-1;var mediaQuery='(min-width: '+minWidth+'px)';if(breakpointMaxWidth)mediaQuery=mediaQuery+' and (max-width: '+breakpointMaxWidth+'px)';return breakpointMaxWidth;}};this.getBreakpointOuterGutter=function(breakpoint){return this.settings.breakpoints[breakpoint].outerGutter;};this.getBreakpointIndex=function(breakpoint){for(var i=0;i<this.breakpoints.length;i++)if(this.breakpoints[i].key===breakpoint)return i;};this.getBreakpoints=function(){return this.settings.breakpoints;};this.getBreakpointSettings=function(breakpoint){return this.settings.breakpoints[breakpoint];};this.getCurrentBreakpoint=function(){var match=false;for(var i=0;i<this.breakpoints.length;i++){if(i===0)match=this.breakpoints[i];var m=window.matchMedia(this.getBreakpointMediaQuery(this.breakpoints[i].key));if(m.matches)match=this.breakpoints[i];}return match;};this.getMediaQueryListEventObject=function(mql){return typeof mql.target!=='undefined'?mql.target:mql;};this.getMql=function(mql){return this.getMediaQueryListEventObject(mql);};this.addListener=function(breakpoint,cb){};this.handleListener=function(mql,key,callback,callbackSettings){var _this=this;if(!mql.matches&&this.isDesktopFirst())return;if(!mql.matches&&this.isMobileFirst()){key=_this.getCurrentBreakpoint().key;mql=_this.listeners[key];}mql=_this.getMql(mql);mql.cohesion={'key':key,'settings':callbackSettings};return callback(mql);};this.addListeners=function(settings,callback){var _this=this;var i,breakpointKey,mq,match;for(i=0;i<_this.breakpoints.length;i++){breakpointKey=_this.breakpoints[i].key;mq=_this.getBreakpointMediaQuery(breakpointKey);var listener;listener=window.matchMedia(mq);_this.listeners[breakpointKey]=listener;listener.addListener(this.handleListener.bind(this,listener,breakpointKey,callback,settings));if(listener.matches){match=listener;match.key=breakpointKey;}}if(match)this.handleListener(match,match.key,callback,settings);};this.sortBreakpoints=function(){var _this=this;var i=0;for(var k in _this.settings.breakpoints)if(_this.settings.breakpoints.hasOwnProperty(k)){_this.breakpoints.push(_this.settings.breakpoints[k]);_this.breakpoints[i].key=k;i++;}if(_this.getGridType()===_this.constants.mobile)_this.breakpoints.sort(function(a,b){return a.width-b.width;});else if(_this.getGridType()===_this.constants.desktop)_this.breakpoints.sort(function(a,b){return b.width-a.width;});else throw 'Mobile or Desktop first must be set in Website settings > Responsive grid settings';};this.init();};})(jQuery,Drupal,drupalSettings);;
(function($,Drupal,once){Drupal.behaviors.CohesionScroll={attach:function(context){if(drupalSettings.cohesion.add_animation_classes==='ENABLED'){function getWindowOffset(){return window.pageYOffset||document.documentElement.scrollTop;}var previous=getWindowOffset();$(once('cohWindowScroll','body',context)).each(function(){var $body=$(this);var timeout,flag=false;if(getWindowOffset()>0)$body.addClass('is-scrolled');$(window).scroll(function(){var current=getWindowOffset();var state=current>previous;if(!flag){flag=true;$body.addClass('is-scrolling');}if(current!==previous)$body.addClass('is-scrolled').toggleClass('is-scrolled-down',state).toggleClass('is-scrolled-up',!state);previous=current<=0?0:current;clearTimeout(timeout);timeout=setTimeout(function(){$body.removeClass('is-scrolling');flag=false;},200);if(previous===0)$body.removeClass('is-scrolled');});});}}};})(jQuery,Drupal,once,drupalSettings);;
((Drupal,drupalSettings)=>{Drupal.extlink=Drupal.extlink||{};Drupal.extlink.attach=(context,drupalSettings)=>{if(typeof drupalSettings.data==='undefined'||!drupalSettings.data.hasOwnProperty('extlink'))return;let extIconPlacement='append';if(drupalSettings.data.extlink.extIconPlacement&&drupalSettings.data.extlink.extIconPlacement!=='0')extIconPlacement=drupalSettings.data.extlink.extIconPlacement;const pattern=/^(([^:]+?\.)*)([^.:]+)((\.[a-z0-9]{1,253})*)(:[0-9]{1,5})?$/;const host=window.location.host.replace(pattern,'$2$3$6');const subdomain=window.location.host.replace(host,'');let subdomains;if(drupalSettings.data.extlink.extSubdomains)subdomains='([^/]*\\.)?';else if(subdomain==='www.'||subdomain==='')subdomains='(www\\.)?';else subdomains=subdomain.replace('.','\\.');let allowedDomains=false;if(drupalSettings.data.extlink.allowedDomains){allowedDomains=[];for(let i=0;i<drupalSettings.data.extlink.allowedDomains.length;i++)allowedDomains.push(new RegExp(`^https?:\\/\\/${drupalSettings.data.extlink.allowedDomains[i].replace(/(\r\n|\n|\r)/gm,'')}.*$`,'i'));}const internalLink=new RegExp(`^https?://([^@]*@)?${subdomains}${host}`,'i');let extInclude=false;if(drupalSettings.data.extlink.extInclude)extInclude=new RegExp(drupalSettings.data.extlink.extInclude.replace(/\\/,'\\'),'i');let extExclude=false;if(drupalSettings.data.extlink.extExclude)extExclude=new RegExp(drupalSettings.data.extlink.extExclude.replace(/\\/,'\\'),'i');let extExcludeNoreferrer=false;if(drupalSettings.data.extlink.extExcludeNoreferrer)extExcludeNoreferrer=new RegExp(drupalSettings.data.extlink.extExcludeNoreferrer.replace(/\\/,'\\'),'i');let extCssExclude=false;if(drupalSettings.data.extlink.extCssExclude)extCssExclude=drupalSettings.data.extlink.extCssExclude;let extCssInclude=false;if(drupalSettings.data.extlink.extCssInclude)extCssInclude=drupalSettings.data.extlink.extCssInclude;let extCssExplicit=false;if(drupalSettings.data.extlink.extCssExplicit)extCssExplicit=drupalSettings.data.extlink.extCssExplicit;const externalLinks=[];const mailtoLinks=[];const telLinks=[];const extlinks=context.querySelectorAll('a:not([data-extlink]), area:not([data-extlink])');extlinks.forEach((el)=>{try{let url='';if(typeof el.href==='string')url=el.href.toLowerCase();else{if(typeof el.href==='object')url=el.href.baseVal;}const isExtCssIncluded=extCssInclude&&(el.matches(extCssInclude)||el.closest(extCssInclude));if(url.indexOf('http')===0&&((!internalLink.test(url)&&!(extExclude&&extExclude.test(url)))||(extInclude&&extInclude.test(url))||isExtCssIncluded)&&!(extCssExclude&&el.matches(extCssExclude))&&!(extCssExclude&&el.closest(extCssExclude))&&!(extCssExplicit&&!el.closest(extCssExplicit))){let match=false;if(!isExtCssIncluded&&allowedDomains){for(let i=0;i<allowedDomains.length;i++)if(allowedDomains[i].test(url)){match=true;break;}}if(!match)externalLinks.push(el);}else{if(el.tagName!=='AREA'&&!(extCssExclude&&el.closest(extCssExclude))&&!(extCssExplicit&&!el.closest(extCssExplicit)))if(url.indexOf('mailto:')===0)mailtoLinks.push(el);else{if(url.indexOf('tel:')===0)telLinks.push(el);}}}catch(error){return false;}});const hasExtIcon=drupalSettings.data.extlink.extClass!=='0'&&drupalSettings.data.extlink.extClass!=='';const hasAdditionalExtClasses=drupalSettings.data.extlink.extAdditionalLinkClasses!=='';Drupal.extlink.applyClassAndSpan(externalLinks,'ext',hasExtIcon?extIconPlacement:null);if(hasAdditionalExtClasses)Drupal.extlink.applyClassAndSpan(externalLinks,drupalSettings.data.extlink.extAdditionalLinkClasses,null);const hasMailtoClass=drupalSettings.data.extlink.mailtoClass!=='0'&&drupalSettings.data.extlink.mailtoClass!=='';const hasAdditionalMailtoClasses=drupalSettings.data.extlink.extAdditionalMailtoClasses!=='';if(hasMailtoClass)Drupal.extlink.applyClassAndSpan(mailtoLinks,drupalSettings.data.extlink.mailtoClass,extIconPlacement);if(hasAdditionalMailtoClasses)Drupal.extlink.applyClassAndSpan(mailtoLinks,drupalSettings.data.extlink.extAdditionalMailtoClasses,null);const hasTelClass=drupalSettings.data.extlink.telClass!=='0'&&drupalSettings.data.extlink.telClass!=='';const hasAdditionalTelClasses=drupalSettings.data.extlink.extAdditionalTelClasses!=='0'&&drupalSettings.data.extlink.extAdditionalTelClasses!=='';if(hasTelClass)Drupal.extlink.applyClassAndSpan(telLinks,drupalSettings.data.extlink.telClass,extIconPlacement);if(hasAdditionalTelClasses)Drupal.extlink.applyClassAndSpan(mailtoLinks,drupalSettings.data.extlink.extAdditionalTelClasses,null);if(drupalSettings.data.extlink.extTarget){externalLinks.forEach((link,i)=>{if(!(drupalSettings.data.extlink.extTargetNoOverride&&link.matches('a[target]')))externalLinks[i].setAttribute('target','_blank');});externalLinks.forEach((link,i)=>{const val=link.getAttribute('rel');if(val===null||typeof val==='undefined'){externalLinks[i].setAttribute('rel','noopener');return;}if(val.indexOf('noopener')>-1)if(val.indexOf('noopener')===-1)externalLinks[i].setAttribute('rel',`${val} noopener`);else{}else externalLinks[i].setAttribute('rel',`${val} noopener`);});}if(drupalSettings.data.extlink.extNofollow)externalLinks.forEach((link,i)=>{const val=link.getAttribute('rel');if(val===null||typeof val==='undefined'){externalLinks[i].setAttribute('rel','nofollow');return;}let target='nofollow';if(drupalSettings.data.extlink.extFollowNoOverride)target='follow';if(val.indexOf(target)===-1)externalLinks[i].setAttribute('rel',`${val} nofollow`);});if(drupalSettings.data.extlink.extTitleNoOverride===false)externalLinks.forEach((link,i)=>{const oldTitle=link.getAttribute('title');let newTitle='';if(drupalSettings.data.extlink.extTargetAppendNewWindowDisplay)newTitle=drupalSettings.data.extlink.extTargetAppendNewWindowLabel;if(oldTitle!==null){if(Drupal.extlink.hasNewWindowText(oldTitle))return;newTitle=Drupal.extlink.combineLabels(oldTitle,newTitle);}if(newTitle)externalLinks[i].setAttribute('title',newTitle);});if(drupalSettings.data.extlink.extNoreferrer)externalLinks.forEach((link,i)=>{if(drupalSettings.data.extlink.extExcludeNoreferrer&&extExcludeNoreferrer.test(link.getAttribute('href')))return;const val=link.getAttribute('rel');if(val===null||typeof val==='undefined'){externalLinks[i].setAttribute('rel','noreferrer');return;}externalLinks[i].setAttribute('rel',`${val} noreferrer`);});Drupal.extlink=Drupal.extlink||{};Drupal.extlink.popupClickHandler=Drupal.extlink.popupClickHandler||(()=>{if(drupalSettings.data.extlink.extAlert)return confirm(drupalSettings.data.extlink.extAlertText);});const _that=this;Drupal.extlink.handleClick=function(event){const shouldNavigate=Drupal.extlink.popupClickHandler.call(_that,event);if(typeof shouldNavigate!=='undefined'&&!shouldNavigate)event.preventDefault();};externalLinks.forEach((val,i)=>{externalLinks[i].removeEventListener('click',Drupal.extlink.handleClick);externalLinks[i].addEventListener('click',Drupal.extlink.handleClick);});};Drupal.extlink.hasNewWindowText=function(label){return label.toLowerCase().indexOf(Drupal.t('new window'))!==-1;};Drupal.extlink.combineLabels=function(labelA,labelB){labelA=labelA||'';labelB=labelB||'';if(!labelA.trim())return labelB;if(!labelB.trim())return labelA;const labelANoParens=labelA.trim().replace('(','').replace(')','');const labelBNoParens=labelB.trim().replace('(','').replace(')','');if(labelA===labelANoParens){if(labelB===labelBNoParens)return `${labelA}, ${labelB}`;return `${labelA} ${labelB}`;}if(labelB===labelBNoParens)return `${labelB} ${labelA}`;return `(${labelANoParens}, ${labelBNoParens})`;};Drupal.extlink.applyClassAndSpan=(links,className,iconPlacement)=>{let linksToProcess;if(drupalSettings.data.extlink.extImgClass)linksToProcess=links;else linksToProcess=links.filter((link)=>{return link.querySelector('img, svg')===null;});for(let i=0;i<linksToProcess.length;i++){if(className!=='0')linksToProcess[i].classList.add(className);if(className===drupalSettings.data.extlink.mailtoClass&&drupalSettings.data.extlink.extAdditionalMailtoClasses)linksToProcess[i].classList.add(drupalSettings.data.extlink.extAdditionalMailtoClasses);else if(className===drupalSettings.data.extlink.telClass&&drupalSettings.data.extlink.extAdditionalTelClasses)linksToProcess[i].classList.add(drupalSettings.data.extlink.extAdditionalTelClasses);else{if(drupalSettings.data.extlink.extAdditionalLinkClasses)linksToProcess[i].classList.add(drupalSettings.data.extlink.extAdditionalLinkClasses);}linksToProcess[i].setAttribute('data-extlink','');if(iconPlacement){let link=linksToProcess[i];if(drupalSettings.data.extlink.extPreventOrphan&&iconPlacement==='append'){let lastTextNode=link.lastChild;let trailingWhitespace=null;let parentNode=link;while(lastTextNode)if(lastTextNode.lastChild){parentNode=lastTextNode;lastTextNode=lastTextNode.lastChild;}else if(lastTextNode.nodeName==='#text'&&parentNode.lastElementChild&&lastTextNode.textContent.trim().length===0){trailingWhitespace=lastTextNode;parentNode=parentNode.lastElementChild;lastTextNode=parentNode.lastChild;}else break;if(lastTextNode&&lastTextNode.nodeName==='#text'&&lastTextNode.textContent.length>0){const lastText=lastTextNode.textContent;const lastWordRegex=new RegExp(/\S+\s*$/,'g');const lastWord=lastText.match(lastWordRegex);if(lastWord!==null){const breakPreventer=document.createElement('span');breakPreventer.classList.add('extlink-nobreak');breakPreventer.textContent=lastWord[0];if(trailingWhitespace){trailingWhitespace.textContent='';breakPreventer.append(trailingWhitespace.textContent);}lastTextNode.textContent=lastText.substring(0,lastText.length-lastWord[0].length);lastTextNode.parentNode.append(breakPreventer);link=breakPreventer;}}}let iconElement;if(drupalSettings.data.extlink.extUseFontAwesome){iconElement=document.createElement('span');iconElement.setAttribute('class',`fa-${className} extlink`);if(className===drupalSettings.data.extlink.mailtoClass){if(drupalSettings.data.extlink.mailtoLabel)link.ariaLabel=drupalSettings.data.extlink.mailtoLabel;iconElement.innerHTML=Drupal.theme('extlink_fa_mailto',drupalSettings,iconPlacement);}else if(className===drupalSettings.data.extlink.extClass){if(drupalSettings.data.extlink.extLabel)link.ariaLabel=drupalSettings.data.extlink.extLabel;iconElement.innerHTML=Drupal.theme('extlink_fa_extlink',drupalSettings,iconPlacement);}else{if(className===drupalSettings.data.extlink.telClass){if(drupalSettings.data.extlink.telLabel)link.ariaLabel=drupalSettings.data.extlink.telLabel;iconElement.innerHTML=Drupal.theme('extlink_fa_tel',drupalSettings,iconPlacement);}}}else{iconElement=document.createElementNS('http://www.w3.org/2000/svg','svg');iconElement.setAttribute('focusable','false');iconElement.setAttribute('width','1em');iconElement.setAttribute('height','1em');iconElement.classList.add(className);iconElement.setAttribute('data-extlink-placement',iconPlacement);if(className===drupalSettings.data.extlink.mailtoClass)iconElement=Drupal.theme('extlink_mailto',iconElement,drupalSettings);else if(className===drupalSettings.data.extlink.extClass)iconElement=Drupal.theme('extlink_extlink',iconElement,drupalSettings);else{if(className===drupalSettings.data.extlink.telClass)iconElement=Drupal.theme('extlink_tel',iconElement,drupalSettings);}}iconElement.setAttribute('role','img');iconElement.setAttribute('aria-hidden',drupalSettings.data.extlink.extHideIcons);link[iconPlacement](iconElement);}}};Drupal.theme.extlink_fa_mailto=function(drupalSettings,iconPlacement){return `<span class="${drupalSettings.data.extlink.extFaMailtoClasses}" data-extlink-placement="${iconPlacement}"></span>`;};Drupal.theme.extlink_fa_extlink=function(drupalSettings,iconPlacement){return `<span class="${drupalSettings.data.extlink.extFaLinkClasses}" data-extlink-placement="${iconPlacement}"></span>`;};Drupal.theme.extlink_fa_tel=function(drupalSettings,iconPlacement){return `<span class="${drupalSettings.data.extlink.extFaTelClasses}" data-extlink-placement="${iconPlacement}"></span>`;};Drupal.theme.extlink_mailto=function(iconElement,drupalSettings){iconElement.setAttribute('aria-label',drupalSettings.data.extlink.mailtoLabel);iconElement.setAttribute('viewBox','0 10 70 20');iconElement.innerHTML=`<title>${drupalSettings.data.extlink.mailtoLabel}</title><path d="M56 14H8c-1.1 0-2 0.9-2 2v32c0 1.1 0.9 2 2 2h48c1.1 0 2-0.9 2-2V16C58 14.9 57.1 14 56 14zM50.5 18L32 33.4 13.5 18H50.5zM10 46V20.3l20.7 17.3C31.1 37.8 31.5 38 32 38s0.9-0.2 1.3-0.5L54 20.3V46H10z"/>`;return iconElement;};Drupal.theme.extlink_extlink=function(iconElement,drupalSettings){iconElement.setAttribute('aria-label',drupalSettings.data.extlink.extLabel);iconElement.setAttribute('viewBox','0 0 80 40');iconElement.innerHTML=`<title>${drupalSettings.data.extlink.extLabel}</title><path d="M48 26c-1.1 0-2 0.9-2 2v26H10V18h26c1.1 0 2-0.9 2-2s-0.9-2-2-2H8c-1.1 0-2 0.9-2 2v40c0 1.1 0.9 2 2 2h40c1.1 0 2-0.9 2-2V28C50 26.9 49.1 26 48 26z"/><path d="M56 6H44c-1.1 0-2 0.9-2 2s0.9 2 2 2h7.2L30.6 30.6c-0.8 0.8-0.8 2 0 2.8C31 33.8 31.5 34 32 34s1-0.2 1.4-0.6L54 12.8V20c0 1.1 0.9 2 2 2s2-0.9 2-2V8C58 6.9 57.1 6 56 6z"/>`;return iconElement;};Drupal.theme.extlink_tel=function(iconElement,drupalSettings){iconElement.setAttribute('aria-label',drupalSettings.data.extlink.telLabel);iconElement.setAttribute('viewBox','0 0 181.352 181.352');iconElement.innerHTML=`<title>${drupalSettings.data.extlink.telLabel}</title><path xmlns="http://www.w3.org/2000/svg" d="M169.393,167.37l-14.919,9.848c-9.604,6.614-50.531,14.049-106.211-53.404C-5.415,58.873,9.934,22.86,17.134,14.555L29.523,1.678c2.921-2.491,7.328-2.198,9.839,0.811l32.583,38.543l0.02,0.02c2.384,2.824,2.306,7.22-0.83,9.868v0.029l-14.44,10.415c-5.716,5.667-0.733,14.587,5.11,23.204l27.786,32.808c12.926,12.477,20.009,18.241,26.194,14.118l12.008-13.395c2.941-2.472,7.328-2.169,9.839,0.821l32.603,38.543v0.02C172.607,160.316,172.519,164.703,169.393,167.37z"/>`;return iconElement;};Drupal.behaviors.extlink=Drupal.behaviors.extlink||{};Drupal.behaviors.extlink.attach=(context,drupalSettings)=>{if(typeof extlinkAttach==='function')extlinkAttach(context);else Drupal.extlink.attach(context,drupalSettings);};})(Drupal,drupalSettings);;
(function($,Drupal){Drupal.theme.progressBar=function(id){const escapedId=Drupal.checkPlain(id);return (`<div id="${escapedId}" class="progress" aria-live="polite">`+'<div class="progress__label">&nbsp;</div>'+'<div class="progress__track"><div class="progress__bar"></div></div>'+'<div class="progress__percentage"></div>'+'<div class="progress__description">&nbsp;</div>'+'</div>');};Drupal.ProgressBar=function(id,updateCallback,method,errorCallback){this.id=id;this.method=method||'GET';this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$(Drupal.theme('progressBar',id));};$.extend(Drupal.ProgressBar.prototype,{setProgress(percentage,message,label){if(percentage>=0&&percentage<=100){$(this.element).find('div.progress__bar').each(function(){this.style.width=`${percentage}%`;});$(this.element).find('div.progress__percentage').html(`${percentage}%`);}$('div.progress__description',this.element).html(message);$('div.progress__label',this.element).html(label);if(this.updateCallback)this.updateCallback(percentage,message,this);},startMonitoring(uri,delay){this.delay=delay;this.uri=uri;this.sendPing();},stopMonitoring(){clearTimeout(this.timer);this.uri=null;},sendPing(){if(this.timer)clearTimeout(this.timer);if(this.uri){const pb=this;let uri=this.uri;if(!uri.includes('?'))uri+='?';else uri+='&';uri+='_format=json';$.ajax({type:this.method,url:uri,data:'',dataType:'json',success(progress){if(progress.status===0){pb.displayError(progress.data);return;}pb.setProgress(progress.percentage,progress.message,progress.label);pb.timer=setTimeout(()=>{pb.sendPing();},pb.delay);},error(xmlhttp){const e=new Drupal.AjaxError(xmlhttp,pb.uri);pb.displayError(`<pre>${e.message}</pre>`);}});}},displayError(string){const error=$('<div class="messages messages--error"></div>').html(string);$(this.element).before(error).hide();if(this.errorCallback)this.errorCallback(this);}});})(jQuery,Drupal);;
/* @license MIT https://raw.githubusercontent.com/muicss/loadjs/4.3.0/LICENSE.txt */
loadjs=function(){var h=function(){},o={},c={},f={};function u(e,n){if(e){var t=f[e];if(c[e]=n,t)for(;t.length;)t[0](e,n),t.splice(0,1)}}function l(e,n){e.call&&(e={success:e}),n.length?(e.error||h)(n):(e.success||h)(e)}function p(t,r,i,s){var o,e,u,n=document,c=i.async,f=(i.numRetries||0)+1,l=i.before||h,a=t.replace(/[\?|#].*$/,""),d=t.replace(/^(css|img|module|nomodule)!/,"");if(s=s||0,/(^css!|\.css$)/.test(a))(u=n.createElement("link")).rel="stylesheet",u.href=d,(o="hideFocus"in u)&&u.relList&&(o=0,u.rel="preload",u.as="style");else if(/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(a))(u=n.createElement("img")).src=d;else if((u=n.createElement("script")).src=d,u.async=void 0===c||c,e="noModule"in u,/^module!/.test(a)){if(!e)return r(t,"l");u.type="module"}else if(/^nomodule!/.test(a)&&e)return r(t,"l");!(u.onload=u.onerror=u.onbeforeload=function(e){var n=e.type[0];if(o)try{u.sheet.cssText.length||(n="e")}catch(e){18!=e.code&&(n="e")}if("e"==n){if((s+=1)<f)return p(t,r,i,s)}else if("preload"==u.rel&&"style"==u.as)return u.rel="stylesheet";r(t,n,e.defaultPrevented)})!==l(t,u)&&n.head.appendChild(u)}function t(e,n,t){var r,i;if(n&&n.trim&&(r=n),i=(r?t:n)||{},r){if(r in o)throw"LoadJS";o[r]=!0}function s(n,t){!function(e,r,n){var t,i,s=(e=e.push?e:[e]).length,o=s,u=[];for(t=function(e,n,t){if("e"==n&&u.push(e),"b"==n){if(!t)return;u.push(e)}--s||r(u)},i=0;i<o;i++)p(e[i],t,n)}(e,function(e){l(i,e),n&&l({success:n,error:t},e),u(r,e)},i)}if(i.returnPromise)return new Promise(s);s()}return t.ready=function(e,n){return function(e,t){e=e.push?e:[e];var n,r,i,s=[],o=e.length,u=o;for(n=function(e,n){n.length&&s.push(e),--u||t(s)};o--;)r=e[o],(i=c[r])?n(r,i):(f[r]=f[r]||[]).push(n)}(e,function(e){l(n,e)}),t},t.done=function(e){u(e,[])},t.reset=function(){o={},c={},f={}},t.isDefined=function(e){return e in o},t}();;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function(Drupal,debounce){let liveElement;const announcements=[];Drupal.behaviors.drupalAnnounce={attach(context){if(!liveElement){liveElement=document.createElement('div');liveElement.id='drupal-live-announce';liveElement.className='visually-hidden';liveElement.setAttribute('aria-live','polite');liveElement.setAttribute('aria-busy','false');document.body.appendChild(liveElement);}}};function announce(){const text=[];let priority='polite';let announcement;const il=announcements.length;for(let i=0;i<il;i++){announcement=announcements.pop();text.unshift(announcement.text);if(announcement.priority==='assertive')priority='assertive';}if(text.length){liveElement.innerHTML='';liveElement.setAttribute('aria-busy','true');liveElement.setAttribute('aria-live',priority);liveElement.innerHTML=text.join('\n');liveElement.setAttribute('aria-busy','false');}}Drupal.announce=function(text,priority){announcements.push({text,priority});return debounce(announce,200)();};})(Drupal,Drupal.debounce);;
((Drupal)=>{Drupal.Message=class{constructor(messageWrapper=null){if(!messageWrapper)this.messageWrapper=Drupal.Message.defaultWrapper();else this.messageWrapper=messageWrapper;}static defaultWrapper(){let wrapper=document.querySelector('[data-drupal-messages]')||document.querySelector('[data-drupal-messages-fallback]');if(!wrapper){wrapper=document.createElement('div');document.body.appendChild(wrapper);}if(wrapper.hasAttribute('data-drupal-messages-fallback')){wrapper.removeAttribute('data-drupal-messages-fallback');wrapper.classList.remove('hidden');}wrapper.setAttribute('data-drupal-messages','');return wrapper.innerHTML===''?Drupal.Message.messageInternalWrapper(wrapper):wrapper.firstElementChild;}static getMessageTypeLabels(){return {status:Drupal.t('Status message'),error:Drupal.t('Error message'),warning:Drupal.t('Warning message')};}add(message,options={}){if(!options.hasOwnProperty('type'))options.type='status';if(typeof message!=='string')throw new Error('Message must be a string.');Drupal.Message.announce(message,options);options.id=options.id?String(options.id):`${options.type}-${Math.random().toFixed(15).replace('0.','')}`;if(!Drupal.Message.getMessageTypeLabels().hasOwnProperty(options.type)){const {type}=options;throw new Error(`The message type, ${type}, is not present in Drupal.Message.getMessageTypeLabels().`);}this.messageWrapper.appendChild(Drupal.theme('message',{text:message},options));return options.id;}select(id){return this.messageWrapper.querySelector(`[data-drupal-message-id^="${id}"]`);}remove(id){return this.messageWrapper.removeChild(this.select(id));}clear(){this.messageWrapper.querySelectorAll('[data-drupal-message-id]').forEach((message)=>{this.messageWrapper.removeChild(message);});}static announce(message,options){if(!options.priority&&(options.type==='warning'||options.type==='error'))options.priority='assertive';if(options.announce!=='')Drupal.announce(options.announce||message,options.priority);}static messageInternalWrapper(messageWrapper){const innerWrapper=document.createElement('div');innerWrapper.setAttribute('class','messages__wrapper');messageWrapper.insertAdjacentElement('afterbegin',innerWrapper);return innerWrapper;}};Drupal.theme.message=({text},{type,id})=>{const messagesTypes=Drupal.Message.getMessageTypeLabels();const messageWrapper=document.createElement('div');messageWrapper.setAttribute('class',`messages messages--${type}`);messageWrapper.setAttribute('role',type==='error'||type==='warning'?'alert':'status');messageWrapper.setAttribute('data-drupal-message-id',id);messageWrapper.setAttribute('data-drupal-message-type',type);messageWrapper.setAttribute('aria-label',messagesTypes[type]);messageWrapper.innerHTML=`${text}`;return messageWrapper;};})(Drupal);;
((Drupal)=>{Drupal.theme.ajaxProgressIndicatorFullscreen=()=>'<div class="ajax-progress ajax-progress--fullscreen"><div class="ajax-progress__throbber ajax-progress__throbber--fullscreen">&nbsp;</div></div>';Drupal.theme.ajaxProgressThrobber=(message)=>{const messageMarkup=typeof message==='string'?Drupal.theme('ajaxProgressMessage',message):'';const throbber='<div class="ajax-progress__throbber">&nbsp;</div>';return `<div class="ajax-progress ajax-progress--throbber">${throbber}${messageMarkup}</div>`;};Drupal.theme.ajaxProgressMessage=(message)=>`<div class="ajax-progress__message">${message}</div>`;})(Drupal);;
(function($,window,Drupal,drupalSettings,loadjs,{isFocusable,tabbable}){Drupal.behaviors.AJAX={attach(context,settings){function loadAjaxBehavior(base){const elementSettings=settings.ajax[base];if(typeof elementSettings.selector==='undefined')elementSettings.selector=`#${base}`;once('drupal-ajax',$(elementSettings.selector)).forEach((el)=>{elementSettings.element=el;elementSettings.base=base;Drupal.ajax(elementSettings);});}Object.keys(settings.ajax||{}).forEach(loadAjaxBehavior);Drupal.ajax.bindAjaxLinks(document.body);once('ajax','.use-ajax-submit').forEach((el)=>{const elementSettings={url:$(el.form).attr('action'),setClick:true,event:'click',progress:{type:'throbber'},base:el.id,element:el};Drupal.ajax(elementSettings);});},detach(context,settings,trigger){if(trigger==='unload')Drupal.ajax.expired().forEach((instance)=>{Drupal.ajax.instances[instance.instanceIndex]=null;});}};Drupal.AjaxError=function(xmlhttp,uri,customMessage){let statusCode;let statusText;let responseText;if(xmlhttp.status)statusCode=`\n${Drupal.t('An AJAX HTTP error occurred.')}\n${Drupal.t('HTTP Result Code: !status',{'!status':xmlhttp.status})}`;else statusCode=`\n${Drupal.t('An AJAX HTTP request terminated abnormally.')}`;statusCode+=`\n${Drupal.t('Debugging information follows.')}`;const pathText=`\n${Drupal.t('Path: !uri',{'!uri':uri})}`;statusText='';try{statusText=`\n${Drupal.t('StatusText: !statusText',{'!statusText':xmlhttp.statusText.trim()})}`;}catch(e){}responseText='';try{responseText=`\n${Drupal.t('ResponseText: !responseText',{'!responseText':xmlhttp.responseText.trim()})}`;}catch(e){}responseText=responseText.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,'');responseText=responseText.replace(/[\n]+\s+/g,'\n');const readyStateText=xmlhttp.status===0?`\n${Drupal.t('ReadyState: !readyState',{'!readyState':xmlhttp.readyState})}`:'';customMessage=customMessage?`\n${Drupal.t('CustomMessage: !customMessage',{'!customMessage':customMessage})}`:'';this.message=statusCode+pathText+statusText+customMessage+responseText+readyStateText;this.name='AjaxError';if(!Drupal.AjaxError.messages)Drupal.AjaxError.messages=new Drupal.Message();Drupal.AjaxError.messages.add(Drupal.t("Oops, something went wrong. Check your browser's developer console for more details."),{type:'error'});};Drupal.AjaxError.prototype=new Error();Drupal.AjaxError.prototype.constructor=Drupal.AjaxError;Drupal.ajax=function(settings){if(arguments.length!==1)throw new Error('Drupal.ajax() function must be called with one configuration object only');const base=settings.base||false;const element=settings.element||false;delete settings.base;delete settings.element;if(!settings.progress&&!element)settings.progress=false;const ajax=new Drupal.Ajax(base,element,settings);ajax.instanceIndex=Drupal.ajax.instances.length;Drupal.ajax.instances.push(ajax);return ajax;};Drupal.ajax.instances=[];Drupal.ajax.expired=function(){return Drupal.ajax.instances.filter((instance)=>instance&&instance.element!==false&&!document.body.contains(instance.element));};Drupal.ajax.bindAjaxLinks=(element)=>{once('ajax','.use-ajax',element).forEach((ajaxLink)=>{const $linkElement=$(ajaxLink);const elementSettings={progress:{type:'throbber'},dialogType:$linkElement.data('dialog-type'),dialog:$linkElement.data('dialog-options'),dialogRenderer:$linkElement.data('dialog-renderer'),base:$linkElement.attr('id'),element:ajaxLink};const href=$linkElement.attr('href');if(href){elementSettings.url=href;elementSettings.event='click';}const httpMethod=$linkElement.data('ajax-http-method');if(httpMethod)elementSettings.httpMethod=httpMethod;Drupal.ajax(elementSettings);});};Drupal.Ajax=function(base,element,elementSettings){const defaults={httpMethod:'POST',event:element?'mousedown':null,keypress:true,selector:base?`#${base}`:null,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:Drupal.t('Processing...')},submit:{js:true}};$.extend(this,defaults,elementSettings);this.commands=new Drupal.AjaxCommands();this.instanceIndex=false;if(this.wrapper)this.wrapper=`#${this.wrapper}`;this.element=element;this.preCommandsFocusedElementSelector=null;this.elementSettings=elementSettings;if(this.element?.form)this.$form=$(this.element.form);if(!this.url){const $element=$(this.element);if(this.element.tagName==='A')this.url=$element.attr('href');else{if(this.element&&element.form)this.url=this.$form.attr('action');}}const originalUrl=this.url;this.url=this.url.replace(/\/nojs(\/|$|\?|#)/,'/ajax$1');if(drupalSettings.ajaxTrustedUrl[originalUrl])drupalSettings.ajaxTrustedUrl[this.url]=true;const ajax=this;ajax.options={url:ajax.url,data:ajax.submit,isInProgress(){return ajax.ajaxing;},beforeSerialize(elementSettings,options){return ajax.beforeSerialize(elementSettings,options);},beforeSubmit(formValues,elementSettings,options){ajax.ajaxing=true;ajax.preCommandsFocusedElementSelector=null;return ajax.beforeSubmit(formValues,elementSettings,options);},beforeSend(xmlhttprequest,options){ajax.ajaxing=true;return ajax.beforeSend(xmlhttprequest,options);},success(response,status,xmlhttprequest){ajax.preCommandsFocusedElementSelector=document.activeElement.getAttribute('data-drupal-selector');if(typeof response==='string')response=JSON.parse(response);if(response!==null&&!drupalSettings.ajaxTrustedUrl[ajax.url])if(xmlhttprequest.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){const customMessage=Drupal.t('The response failed verification so will not be processed.');return ajax.error(xmlhttprequest,ajax.url,customMessage);}return (Promise.resolve(ajax.success(response,status)).then(()=>{ajax.ajaxing=false;$(document).trigger('ajaxSuccess',[xmlhttprequest,this]);$(document).trigger('ajaxComplete',[xmlhttprequest,this]);if(--$.active===0)$(document).trigger('ajaxStop');}));},error(xmlhttprequest,status,error){ajax.ajaxing=false;},complete(xmlhttprequest,status){if(status==='error'||status==='parsererror')return ajax.error(xmlhttprequest,ajax.url);},dataType:'json',jsonp:false,method:ajax.httpMethod};if(elementSettings.dialog)ajax.options.data.dialogOptions=elementSettings.dialog;if(!ajax.options.url.includes('?'))ajax.options.url+='?';else ajax.options.url+='&';let wrapper=`drupal_${elementSettings.dialogType||'ajax'}`;if(elementSettings.dialogRenderer)wrapper+=`.${elementSettings.dialogRenderer}`;ajax.options.url+=`${Drupal.ajax.WRAPPER_FORMAT}=${wrapper}`;$(ajax.element).on(elementSettings.event,function(event){if(!drupalSettings.ajaxTrustedUrl[ajax.url]&&!Drupal.url.isLocal(ajax.url))throw new Error(Drupal.t('The callback URL is not local and not trusted: !url',{'!url':ajax.url}));return ajax.eventResponse(this,event);});if(elementSettings.keypress)$(ajax.element).on('keypress',function(event){return ajax.keypressResponse(this,event);});if(elementSettings.prevent)$(ajax.element).on(elementSettings.prevent,false);};Drupal.ajax.WRAPPER_FORMAT='_wrapper_format';Drupal.Ajax.AJAX_REQUEST_PARAMETER='_drupal_ajax';Drupal.Ajax.prototype.execute=function(){if(this.ajaxing)return;try{this.beforeSerialize(this.element,this.options);return $.ajax(this.options);}catch(e){this.ajaxing=false;window.alert(`An error occurred while attempting to process ${this.options.url}: ${e.message}`);return $.Deferred().reject();}};Drupal.Ajax.prototype.keypressResponse=function(element,event){const ajax=this;if(event.which===13||(event.which===32&&element.type!=='text'&&element.type!=='textarea'&&element.type!=='tel'&&element.type!=='number')){event.preventDefault();event.stopPropagation();$(element).trigger(ajax.elementSettings.event);}};Drupal.Ajax.prototype.eventResponse=function(element,event){event.preventDefault();event.stopPropagation();const ajax=this;if(ajax.ajaxing)return;try{if(ajax.$form){if(ajax.setClick)element.form.clk=element;ajax.$form.ajaxSubmit(ajax.options);}else{ajax.beforeSerialize(ajax.element,ajax.options);$.ajax(ajax.options);}}catch(e){ajax.ajaxing=false;window.alert(`An error occurred while attempting to process ${ajax.options.url}: ${e.message}`);}};Drupal.Ajax.prototype.beforeSerialize=function(element,options){if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.detachBehaviors(this.$form.get(0),settings,'serialize');}options.data[Drupal.Ajax.AJAX_REQUEST_PARAMETER]=1;const pageState=drupalSettings.ajaxPageState;options.data['ajax_page_state[theme]']=pageState.theme;options.data['ajax_page_state[theme_token]']=pageState.theme_token;options.data['ajax_page_state[libraries]']=pageState.libraries;};Drupal.Ajax.prototype.beforeSubmit=function(formValues,element,options){};Drupal.Ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.$form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload='1';const v=$.fieldValue(this.element);if(v!==null)options.extraData[this.element.name]=v;}$(this.element).prop('disabled',true);if(!this.progress||!this.progress.type)return;const progressIndicatorMethod=`setProgressIndicator${this.progress.type.slice(0,1).toUpperCase()}${this.progress.type.slice(1).toLowerCase()}`;if(progressIndicatorMethod in this&&typeof this[progressIndicatorMethod]==='function')this[progressIndicatorMethod].call(this);};Drupal.theme.ajaxProgressThrobber=(message)=>{const messageMarkup=typeof message==='string'?Drupal.theme('ajaxProgressMessage',message):'';const throbber='<div class="throbber">&nbsp;</div>';return `<div class="ajax-progress ajax-progress-throbber">${throbber}${messageMarkup}</div>`;};Drupal.theme.ajaxProgressIndicatorFullscreen=()=>'<div class="ajax-progress ajax-progress-fullscreen">&nbsp;</div>';Drupal.theme.ajaxProgressMessage=(message)=>`<div class="message">${message}</div>`;Drupal.theme.ajaxProgressBar=($element)=>$('<div class="ajax-progress ajax-progress-bar"></div>').append($element);Drupal.Ajax.prototype.setProgressIndicatorBar=function(){const progressBar=new Drupal.ProgressBar(`ajax-progress-${this.element.id}`,$.noop,this.progress.method,$.noop);if(this.progress.message)progressBar.setProgress(-1,this.progress.message);if(this.progress.url)progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);this.progress.element=$(Drupal.theme('ajaxProgressBar',progressBar.element));this.progress.object=progressBar;$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=$(Drupal.theme('ajaxProgressThrobber',this.progress.message));if($(this.element).closest('[data-drupal-ajax-container]').length)$(this.element).closest('[data-drupal-ajax-container]').after(this.progress.element);else $(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=$(Drupal.theme('ajaxProgressIndicatorFullscreen'));$('body').append(this.progress.element);};Drupal.Ajax.prototype.commandExecutionQueue=function(response,status){const ajaxCommands=this.commands;return Object.keys(response||{}).reduce((executionQueue,key)=>executionQueue.then(()=>{const {command}=response[key];if(command&&ajaxCommands[command])return ajaxCommands[command](this,response[key],status);}),Promise.resolve());};Drupal.Ajax.prototype.success=function(response,status){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.element).prop('disabled',false);const elementParents=$(this.element).parents('[data-drupal-selector]').addBack().toArray();const focusChanged=Object.keys(response||{}).some((key)=>{const {command,method}=response[key];return (command==='focusFirst'||command==='openDialog'||(command==='invoke'&&method==='focus'));});return (this.commandExecutionQueue(response,status).then(()=>{if(!focusChanged){let target=false;if(this.element){if($(this.element).data('refocus-blur')&&this.preCommandsFocusedElementSelector)target=document.querySelector(`[data-drupal-selector="${this.preCommandsFocusedElementSelector}"]`);if(!target&&!$(this.element).data('disable-refocus')){for(let n=elementParents.length-1;!target&&n>=0;n--)target=document.querySelector(`[data-drupal-selector="${elementParents[n].getAttribute('data-drupal-selector')}"]`);}}if(target)$(target).trigger('focus');}if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}this.settings=null;}).catch((error)=>console.error(Drupal.t('An error occurred during the execution of the Ajax response: !error',{'!error':error}))));};Drupal.Ajax.prototype.getEffect=function(response){const type=response.effect||this.effect;const speed=response.speed||this.speed;const effect={};if(type==='none'){effect.showEffect='show';effect.hideEffect='hide';effect.showSpeed='';}else if(type==='fade'){effect.showEffect='fadeIn';effect.hideEffect='fadeOut';effect.showSpeed=speed;}else{effect.showEffect=`${type}Toggle`;effect.hideEffect=`${type}Toggle`;effect.showSpeed=speed;}return effect;};Drupal.Ajax.prototype.error=function(xmlhttprequest,uri,customMessage){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.wrapper).show();$(this.element).prop('disabled',false);if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}throw new Drupal.AjaxError(xmlhttprequest,uri,customMessage);};Drupal.theme.ajaxWrapperNewContent=($newContent,ajax,response)=>(response.effect||ajax.effect)!=='none'&&$newContent.filter((i)=>!(($newContent[i].nodeName==='#comment'||($newContent[i].nodeName==='#text'&&/^(\s|\n|\r)*$/.test($newContent[i].textContent))))).length>1?Drupal.theme('ajaxWrapperMultipleRootElements',$newContent):$newContent;Drupal.theme.ajaxWrapperMultipleRootElements=($elements)=>$('<div></div>').append($elements);Drupal.AjaxCommands=function(){};Drupal.AjaxCommands.prototype={insert(ajax,response){const $wrapper=response.selector?$(response.selector):$(ajax.wrapper);const method=response.method||ajax.method;const effect=ajax.getEffect(response);const settings=response.settings||ajax.settings||drupalSettings;const parseHTML=(htmlString)=>{const fragment=document.createDocumentFragment();const template=fragment.appendChild(document.createElement('template'));template.innerHTML=htmlString;return template.content.childNodes;};let $newContent=$(parseHTML(response.data));$newContent=Drupal.theme('ajaxWrapperNewContent',$newContent,ajax,response);switch(method){case 'html':case 'replaceWith':case 'replaceAll':case 'empty':case 'remove':Drupal.detachBehaviors($wrapper.get(0),settings);break;default:break;}$wrapper[method]($newContent);if(effect.showEffect!=='show')$newContent.hide();const $ajaxNewContent=$newContent.find('.ajax-new-content');if($ajaxNewContent.length){$ajaxNewContent.hide();$newContent.show();$ajaxNewContent[effect.showEffect](effect.showSpeed);}else{if(effect.showEffect!=='show')$newContent[effect.showEffect](effect.showSpeed);}$newContent.each((index,element)=>{if(element.nodeType===Node.ELEMENT_NODE&&document.documentElement.contains(element))Drupal.attachBehaviors(element,settings);});},remove(ajax,response,status){const settings=response.settings||ajax.settings||drupalSettings;$(response.selector).each(function(){Drupal.detachBehaviors(this,settings);}).remove();},changed(ajax,response,status){const $element=$(response.selector);if(!$element.hasClass('ajax-changed')){$element.addClass('ajax-changed');if(response.asterisk)$element.find(response.asterisk).append(` <abbr class="ajax-changed" title="${Drupal.t('Changed')}">*</abbr> `);}},alert(ajax,response,status){window.alert(response.text);},announce(ajax,response){if(response.priority)Drupal.announce(response.text,response.priority);else Drupal.announce(response.text);},redirect(ajax,response,status){window.location=response.url;},css(ajax,response,status){$(response.selector).css(response.argument);},settings(ajax,response,status){const ajaxSettings=drupalSettings.ajax;if(ajaxSettings)Drupal.ajax.expired().forEach((instance)=>{if(instance.selector){const selector=instance.selector.replace('#','');if(selector in ajaxSettings)delete ajaxSettings[selector];}});if(response.merge)$.extend(true,drupalSettings,response.settings);else ajax.settings=response.settings;},data(ajax,response,status){$(response.selector).data(response.name,response.value);},focusFirst(ajax,response,status){let focusChanged=false;const container=document.querySelector(response.selector);if(container){const tabbableElements=tabbable(container);if(tabbableElements.length){tabbableElements[0].focus();focusChanged=true;}else{if(isFocusable(container)){container.focus();focusChanged=true;}}}if(ajax.hasOwnProperty('element')&&!focusChanged)ajax.element.focus();},invoke(ajax,response,status){const $element=$(response.selector);$element[response.method](...response.args);},restripe(ajax,response,status){$(response.selector).find('> tbody > tr:visible, > tr:visible').removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even');},update_build_id(ajax,response,status){document.querySelectorAll(`input[name="form_build_id"][value="${response.old}"]`).forEach((item)=>{item.value=response.new;});},add_css(ajax,response,status){const allUniqueBundleIds=response.data.map(function(style){const uniqueBundleId=style.href;if(!loadjs.isDefined(uniqueBundleId))loadjs(`css!${style.href}`,uniqueBundleId,{before(path,styleEl){Object.keys(style).forEach((attributeKey)=>{styleEl.setAttribute(attributeKey,style[attributeKey]);});}});return uniqueBundleId;});return new Promise((resolve,reject)=>{loadjs.ready(allUniqueBundleIds,{success(){resolve();},error(depsNotFound){const message=Drupal.t(`The following files could not be loaded: @dependencies`,{'@dependencies':depsNotFound.join(', ')});reject(message);}});});},message(ajax,response){const messages=new Drupal.Message(document.querySelector(response.messageWrapperQuerySelector));if(response.clearPrevious)messages.clear();messages.add(response.message,response.messageOptions);},add_js(ajax,response,status){const parentEl=document.querySelector(response.selector||'body');const settings=ajax.settings||drupalSettings;const allUniqueBundleIds=response.data.map((script)=>{const uniqueBundleId=script.src;if(!loadjs.isDefined(uniqueBundleId))loadjs(script.src,uniqueBundleId,{async:false,before(path,scriptEl){Object.keys(script).forEach((attributeKey)=>{scriptEl.setAttribute(attributeKey,script[attributeKey]);});parentEl.appendChild(scriptEl);return false;}});return uniqueBundleId;});return new Promise((resolve,reject)=>{loadjs.ready(allUniqueBundleIds,{success(){Drupal.attachBehaviors(parentEl,settings);resolve();},error(depsNotFound){const message=Drupal.t(`The following files could not be loaded: @dependencies`,{'@dependencies':depsNotFound.join(', ')});reject(message);}});});},scrollTop(ajax,response){document.querySelector(response.selector)?.scrollIntoView();}};const stopEvent=(xhr,settings)=>{return (xhr.getResponseHeader('X-Drupal-Ajax-Token')==='1'&&typeof settings.isInProgress==='function'&&settings.isInProgress());};$.extend(true,$.event.special,{ajaxSuccess:{trigger(event,xhr,settings){if(stopEvent(xhr,settings))return false;}},ajaxComplete:{trigger(event,xhr,settings){if(stopEvent(xhr,settings)){$.active++;return false;}}}});})(jQuery,window,Drupal,drupalSettings,loadjs,window.tabbable);;
(function(Drupal){Drupal.theme.ajaxProgressBar=function($element){return $element.addClass('ajax-progress ajax-progress-bar');};})(Drupal);;
(function(Drupal){Drupal.AjaxCommands.prototype.gtagEvent=function(ajax,response){gtag('event',response.event_name,response.data);};})(Drupal);;
(function(root,factory){if(typeof module==="object"&&module.exports)module.exports=factory();else root.Toastify=factory();})(this,function(global){var Toastify=function(options){return new Toastify.lib.init(options);},version="1.12.0";Toastify.defaults={oldestFirst:true,text:"Toastify is awesome!",node:undefined,duration:3000,selector:undefined,callback:function(){},destination:undefined,newWindow:false,close:false,gravity:"toastify-top",position:"right",backgroundColor:'',avatar:"",className:"",stopOnFocus:true,stopOnWindowBlur:true,onClick:function(){},offset:{x:0,y:0},escapeMarkup:true,ariaLive:'polite',style:{background:''},progressBar:false,progressBarColor:''};Toastify.lib=Toastify.prototype={toastify:version,constructor:Toastify,init:function(options){if(!options)options={};this.options={};this.toastElement=null;this.options.text=options.text||Toastify.defaults.text;this.options.node=options.node||Toastify.defaults.node;this.options.duration=options.duration===0?0:options.duration||Toastify.defaults.duration;this.options.selector=options.selector||Toastify.defaults.selector;this.options.callback=options.callback||Toastify.defaults.callback;this.options.destination=options.destination||Toastify.defaults.destination;this.options.newWindow=options.newWindow||Toastify.defaults.newWindow;this.options.close=options.close||Toastify.defaults.close;this.options.gravity=options.gravity==="bottom"?"toastify-bottom":Toastify.defaults.gravity;this.options.position=options.position||Toastify.defaults.position;this.options.backgroundColor=options.backgroundColor||Toastify.defaults.backgroundColor;this.options.avatar=options.avatar||Toastify.defaults.avatar;this.options.className=options.className||Toastify.defaults.className;this.options.stopOnFocus=options.stopOnFocus===undefined?Toastify.defaults.stopOnFocus:options.stopOnFocus;this.options.stopOnWindowBlur=options.stopOnWindowBlur===undefined?Toastify.defaults.stopOnWindowBlur:options.stopOnWindowBlur;this.options.onClick=options.onClick||Toastify.defaults.onClick;this.options.offset=options.offset||Toastify.defaults.offset;this.options.escapeMarkup=options.escapeMarkup!==undefined?options.escapeMarkup:Toastify.defaults.escapeMarkup;this.options.ariaLive=options.ariaLive||Toastify.defaults.ariaLive;this.options.style=options.style||Toastify.defaults.style;this.options.progressBarColor=options.progressBarColor||Toastify.defaults.progressBarColor;this.options.progressBar=options.progressBar||Toastify.defaults.progressBar;if(options.backgroundColor)this.options.style.background=options.backgroundColor;return this;},buildToast:function(){if(!this.options)throw "Toastify is not initialized";var divElement=document.createElement("div");divElement.className="toastify on "+this.options.className;if(!!this.options.position)divElement.className+=" toastify-"+this.options.position;divElement.className+=" "+this.options.gravity;if(this.options.backgroundColor)console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var property in this.options.style)divElement.style[property]=this.options.style[property];if(this.options.ariaLive)divElement.setAttribute('aria-live',this.options.ariaLive);if(this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)divElement.appendChild(this.options.node);else{if(this.options.escapeMarkup)divElement.innerText=this.options.text;else divElement.innerHTML=this.options.text;if(this.options.avatar!==""){var avatarElement=document.createElement("img");avatarElement.src=this.options.avatar;avatarElement.className="toastify-avatar";if(this.options.position==="left")divElement.appendChild(avatarElement);else divElement.insertAdjacentElement("afterbegin",avatarElement);}}if(this.options.close===true){var closeElement=document.createElement("button");closeElement.type="button";closeElement.setAttribute("aria-label","Close");closeElement.className="toast-close";closeElement.innerHTML="&#10006;";closeElement.addEventListener("click",function(event){event.stopPropagation();this.removeElement(this.toastElement);window.clearTimeout(this.toastElement.timeOutValue);}.bind(this));var width=window.innerWidth>0?window.innerWidth:screen.width;if(this.options.position==="left"&&width>360)divElement.insertAdjacentElement("afterbegin",closeElement);else divElement.appendChild(closeElement);}if(this.options.stopOnFocus&&this.options.duration>0){var self=this;divElement.addEventListener("mouseover",function(){self.pauseToast();});divElement.addEventListener("mouseleave",function(){self.startToast();});}if(this.options.stopOnWindowBlur&&this.options.duration>0){var self=this;document.addEventListener("visibilitychange",function(){if(document.visibilityState==='visible')self.startToast();else self.pauseToast();});}if(typeof this.options.destination!=="undefined")divElement.addEventListener("click",function(event){event.stopPropagation();if(this.options.newWindow===true)window.open(this.options.destination,"_blank");else window.location=this.options.destination;}.bind(this));if(typeof this.options.onClick==="function"&&typeof this.options.destination==="undefined")divElement.addEventListener("click",function(event){event.stopPropagation();this.options.onClick();}.bind(this));if(typeof this.options.offset==="object"){var x=getAxisOffsetAValue("x",this.options);var y=getAxisOffsetAValue("y",this.options);var xOffset=this.options.position=="left"?x:"-"+x;var yOffset=this.options.gravity=="toastify-top"?y:"-"+y;divElement.style.transform="translate("+xOffset+","+yOffset+")";}if(this.options.progressBar){var bar=document.createElement("div");bar.className+="toast-progress";bar.style.backgroundImage="linear-gradient(90deg, "+this.options.progressBarColor+", "+this.options.progressBarColor+")";bar.style.animationDuration=this.options.duration+"ms";divElement.appendChild(bar);}return divElement;},showToast:function(){this.toastElement=this.buildToast();var rootElement;if(typeof this.options.selector==="string")rootElement=document.getElementById(this.options.selector);else if(this.options.selector instanceof HTMLElement||(typeof ShadowRoot!=='undefined'&&this.options.selector instanceof ShadowRoot))rootElement=this.options.selector;else rootElement=document.body;if(!rootElement)throw "Root element is not defined";var elementToInsert=Toastify.defaults.oldestFirst?rootElement.firstChild:rootElement.lastChild;rootElement.insertBefore(this.toastElement,elementToInsert);Toastify.reposition();if(this.options.duration>0&&document.visibilityState==='visible')this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement);}.bind(this),this.options.duration);return this;},startToast:function(){var self=this;this.toastElement.timeOutValue=window.setTimeout(function(){self.removeElement(self.toastElement);},self.options.duration);var progressBar=this.toastElement.querySelector('.toast-progress');progressBar.style.animationPlayState='';var newProgressBar=progressBar.cloneNode(true);progressBar.parentNode.replaceChild(newProgressBar,progressBar);},pauseToast:function(){window.clearTimeout(this.toastElement.timeOutValue);var progressBar=this.toastElement.querySelector('.toast-progress');progressBar.style.animationPlayState='paused';},hideToast:function(){if(this.toastElement.timeOutValue)clearTimeout(this.toastElement.timeOutValue);this.removeElement(this.toastElement);},removeElement:function(toastElement){toastElement.className=toastElement.className.replace(" on","");window.setTimeout(function(){if(this.options.node&&this.options.node.parentNode)this.options.node.parentNode.removeChild(this.options.node);if(toastElement.parentNode)toastElement.parentNode.removeChild(toastElement);this.options.callback.call(toastElement);Toastify.reposition();}.bind(this),400);}};Toastify.reposition=function(){var topLeftOffsetSize={top:15,bottom:15};var topRightOffsetSize={top:15,bottom:15};var offsetSize={top:15,bottom:15};var allToasts=document.getElementsByClassName("toastify");var classUsed;for(var i=0;i<allToasts.length;i++){if(containsClass(allToasts[i],"toastify-top")===true)classUsed="toastify-top";else classUsed="toastify-bottom";var height=allToasts[i].offsetHeight;classUsed=classUsed.substr(9,classUsed.length-1);var offset=15;var width=window.innerWidth>0?window.innerWidth:screen.width;if(width<=360){allToasts[i].style[classUsed]=offsetSize[classUsed]+"px";offsetSize[classUsed]+=height+offset;}else if(containsClass(allToasts[i],"toastify-left")===true){allToasts[i].style[classUsed]=topLeftOffsetSize[classUsed]+"px";topLeftOffsetSize[classUsed]+=height+offset;}else{allToasts[i].style[classUsed]=topRightOffsetSize[classUsed]+"px";topRightOffsetSize[classUsed]+=height+offset;}}return this;};function getAxisOffsetAValue(axis,options){if(options.offset[axis])if(isNaN(options.offset[axis]))return options.offset[axis];else return options.offset[axis]+'px';return '0px';}function containsClass(elem,yourClass){if(!elem||typeof yourClass!=="string")return false;else if(elem.className&&elem.className.trim().split(/\s+/gi).indexOf(yourClass)>-1)return true;else return false;}Toastify.lib.init.prototype=Toastify.lib;return Toastify;});;
(function(){Drupal.toastify={};Drupal.toastify.getDefaultSettings=function(type){var displaySettings=drupalSettings.toastify.settings;return {duration:displaySettings[type].duration,gravity:displaySettings[type].gravity,position:displaySettings[type].position,close:displaySettings[type].close,style:{background:'linear-gradient('+displaySettings[type].direction+', '+displaySettings[type].color+', '+displaySettings[type].color2+')',color:displaySettings[type].text_color},escapeMarkup:false,className:`toastify--${type}`,progressBar:true,progressBarColor:displaySettings[type].colorProgressBar,offset:{x:displaySettings[type].offsetX,y:displaySettings[type].offsetY}};};Drupal.behaviors.toastify={attach:function(context,drupalSettings){if(!drupalSettings.toastify||!drupalSettings.toastify.messages)return;for(const [type,messages] of Object.entries(drupalSettings.toastify.messages)){for(const message of messages){const toastifySettings=Drupal.toastify.getDefaultSettings(type);toastifySettings.text=message;Toastify(toastifySettings).showToast();}}drupalSettings.toastify.messages=[];}};})();;
((Drupal)=>{Drupal.theme.message=({text},{type,id})=>{const messagesTypes=Drupal.Message.getMessageTypeLabels();const messageWrapper=document.createElement('div');if(!drupalSettings.toastify){messageWrapper.setAttribute('class',`messages messages--${type}`);messageWrapper.setAttribute('role',type==='error'||type==='warning'?'alert':'status');messageWrapper.setAttribute('data-drupal-message-id',id);messageWrapper.setAttribute('data-drupal-message-type',type);messageWrapper.setAttribute('aria-label',messagesTypes[type]);messageWrapper.innerHTML=`${text}`;return messageWrapper;}const toastifySettings=Drupal.toastify.getDefaultSettings(type);toastifySettings.text=text;Toastify(toastifySettings).showToast();return messageWrapper;};})(Drupal);;
(function($,Drupal,drupalSettings,once){Drupal.behaviors.undpViewsLoadMore={attach:function(context,settings){var langCode='';var langUrl='';var lang_param=getUrlParameter("langcode");if(lang_param==''||lang_param===false){langCode=drupalSettings.path.currentLanguage;;}else langCode=lang_param;if(langCode!='en')langUrl=langCode+'/';var isAuthorList=0;if($('.load-more-custom').parents().hasClass('author-content'))isAuthorList=1;function loadExploreMore(thisEle){var filterTypes=[];var filter="1";var btn=$(thisEle);var pageno=btn.data("pageno");var page_no=0;var $search_filter=btn.parents('.search-filter');var $container=$search_filter.next().find('.view-more-news-center');if(btn.hasClass('clear-search-filter'))$search_filter.find("input.evencard-checkbox:checked").prop('checked',false);else{if(btn.hasClass('load-more-custom')){page_no=parseInt(pageno)+1;btn.parents().each(function(){let $cards=$(this).siblings('.view-more-news-center');if($cards.length)$container=$cards;let $filter=$(this).siblings('.search-filter');if($filter.length)$search_filter=$filter;});}}var c=$container.parent().attr('id');if(typeof c==='undefined'||c.length===0)c=Object.keys(drupalSettings.eventCard)[0];var setting_content_type_data=drupalSettings.eventCard[c].content_type_data;var node_id=drupalSettings.eventCard[c].node_id;var view_name=drupalSettings.eventCard[c].view_name;var display=drupalSettings.eventCard[c].display;var custom_lang=drupalSettings.eventCard[c].custom_lang;var tags_data=drupalSettings.eventCard[c].tags_data;var author_tags=drupalSettings.eventCard[c].author_tags;var document_type_tags=drupalSettings.eventCard[c].document_type_tags;var regions_and_countries_tags=drupalSettings.eventCard[c].regions_and_countries_tags;var sdg_tags=drupalSettings.eventCard[c].sdg_tags;var topics_tags=drupalSettings.eventCard[c].topics_tags;var no_of_tiles=drupalSettings.eventCard[c].no_of_tiles;var is_tag_page=drupalSettings.eventCard[c].is_tag_page?1:0;var column_split=drupalSettings.eventCard[c].column_split;$search_filter.find("input.evencard-checkbox:checked").each(function(){string=$(this).val();filterTypes.push(string);});var content_type_data=filterTypes.join("+");if(content_type_data=="")if(is_tag_page){$search_filter.find("input.evencard-checkbox").each(function(){string=$(this).val();filterTypes.push(string);});content_type_data=filterTypes.join("+");if(content_type_data=="")content_type_data=setting_content_type_data;}else content_type_data=setting_content_type_data;var gid=drupalSettings.menu_gid;if(typeof gid==='undefined'||gid.length===0)var gid=0;$.ajax({url:isAuthorList?drupalSettings.path.baseUrl+langUrl+"author/view/"+view_name+"/"+display+"/"+node_id+"/"+encodeURIComponent(content_type_data)+"/"+encodeURIComponent(tags_data)+"/"+is_tag_page+"/"+no_of_tiles+"/"+page_no+"/0":drupalSettings.path.baseUrl+langUrl+"view/"+view_name+"/"+display+"/"+node_id+"/"+encodeURIComponent(content_type_data)+"/"+encodeURIComponent(custom_lang)+"/"+encodeURIComponent(author_tags)+"/"+encodeURIComponent(document_type_tags)+"/"+encodeURIComponent(regions_and_countries_tags)+"/"+encodeURIComponent(sdg_tags)+"/"+encodeURIComponent(topics_tags)+"/"+is_tag_page+"/"+no_of_tiles+"/"+page_no+"/"+filter+"/"+gid,context:document.body}).done(function(data){if(data&&$container){if(page_no==0)$container.html(data.rendered_items);else $container.append(data.rendered_items);btn.data("pageno",page_no);var total_result='';var loaded_result='';if(page_no==0){total_result=parseInt(data.total_result);btn.data("totalresult",total_result);loaded_result=parseInt(data.rendered_items_count);}else{total_result=btn.data("totalresult");loaded_result=parseInt(btn.data("loadedresult"))+parseInt(data.rendered_items_count);}btn.data("loadedresult",loaded_result);if(total_result==loaded_result)btn.parent().addClass('hide');else{if(total_result>loaded_result)btn.parent().removeClass('hide');}if((total_result==loaded_result)&&btn.hasClass('evencard-checkbox'))btn.parent().removeClass('hide');if(is_tag_page){var columnNo=column_split?column_split:4;var splitClassName='coh-col-lg-'+columnNo;$container.find('.coh-column').removeClass('coh-col-lg-3 coh-col-lg-4').addClass(splitClassName);}}else{if(filter==1)$container.html('');btn.hide();}});}once('load-more-custom','.load-more-custom',context).forEach((ele)=>{$(ele).on('click',function(){loadExploreMore(this);});});function getUrlParameter(sParam){var sPageURL=window.location.search.substring(1),sURLVariables=sPageURL.split('&'),sParameterName,i;for(var i=0;i<sURLVariables.length;i++){sParameterName=sURLVariables[i].split('=');if(sParameterName[0]===sParam)return sParameterName[1]===undefined?true:decodeURIComponent(sParameterName[1]);}return false;}once('publications-load-more-items','.publication-view-more.load-more-items',context).forEach((ele)=>{$(ele).on('click',function(){var btn=$(this);var pageno=btn.data("pageno")||0;var page_no=parseInt(pageno)+1;var routePath='';var elementSettings='';var closestContainer='';var gid=drupalSettings.menu_gid;if(typeof gid==='undefined'||gid.length===0)var gid=0;elementSettings=drupalSettings.relatedPublicationCard;routePath=drupalSettings.path.baseUrl+langUrl+"publications-data/view/"+elementSettings.view_name+"/"+elementSettings.display+"/"+elementSettings.node_id+"/"+elementSettings.tags+"/"+elementSettings.no_of_tiles+"/"+page_no+"/"+gid;$.ajax({url:routePath,context:document.body}).done(function(data){if(data){closestContainer=btn.closest('.related-publications');closestContainer.find('.view-items-container').append(data.rendered_items);btn.data("pageno",page_no);var total_result=btn.data("totalresult");var loaded_result=parseInt(btn.data("loadedresult"))+parseInt(data.rendered_items_count);btn.data("loadedresult",loaded_result);if(total_result==loaded_result)btn.remove();}else btn.remove();});});});$('.sdg-view-more.load-more-items',context).on('click',function(){var btn=$(this);var pageno=btn.data("pageno")||0;var page_no=parseInt(pageno)+1;var routePath='';var elementSettings='';var closestContainer='';var gid=drupalSettings.menu_gid;if(typeof gid==='undefined'||gid.length===0)var gid=0;var tagid=btn.data("tags");elementSettings=drupalSettings.sdgsCard[tagid];routePath=drupalSettings.path.baseUrl+langUrl+"sdg/view/"+elementSettings.view_name+"/"+elementSettings.display+"/"+elementSettings.node_id+"/"+elementSettings.tags+"/"+elementSettings.no_of_tiles+"/"+page_no+"/"+gid;$.ajax({url:routePath,context:document.body}).done(function(data){if(data){closestContainer=btn.closest('.sdg-content-cards');closestContainer.find('.view-items-container').append(data.rendered_items);var sdgCardColor=closestContainer.find('.view-items-container').data("sdgcardcolor");btn.closest('.sdg-content-cards').find('.dynamic-sdg-color').css("background-color",sdgCardColor);btn.data("pageno",page_no);var total_result=btn.data("totalresult");var loaded_result=parseInt(btn.data("loadedresult"))+parseInt(data.rendered_items_count);btn.data("loadedresult",loaded_result);if(total_result==loaded_result)btn.remove();}else btn.remove();});});once('button-sdg-card','.sdg-card-wrapper button.sdg-card, .next-sdg-container button.sdg-card',context).forEach((ele)=>{$(ele).on('click',function(){var currentEl=$(this);var selectedCardColor=currentEl.css('background-color');setTimeout(function(){$('.modal-sdgs .sdg-content-cards .dynamic-sdg-color').css("background-color",selectedCardColor);$('.modal-sdgs .sdg-content-cards .view-items-container').data("sdgcardcolor",selectedCardColor);},2500);});});if($('.multi-cta-featured-publication').length){var socialIconsEle=$('.multi-cta-featured-publication').find('.social-icons');var externalLinkEle=$('.publication-external-link',$('.multi-cta-featured-publication'));if(externalLinkEle.children().length==0){$('.multi-cta-featured-publication .publication-links .cell.small-6').addClass('cell medium-6 publication-socialicon').removeClass('small-6 ');$('.multi-cta-featured-publication .social-icons').removeClass('coh-container');$('.publication-external-link',$('.multi-cta-featured-publication')).html(socialIconsEle[0].outerHTML);socialIconsEle.remove();$('.multi-cta-featured-publication').addClass('publication-featured-card').removeClass('multi-cta-featured-publication');}}function applyRelatedContentBgImageSrc(){if($('.featured-stories .cell .background-image').length){var hoverSlide=$('.featured-stories .cell .background-image');hoverSlide.each(function(index){var mobImagepath=$(this).data('mobile-image');var desktopImagePath=$(this).data('desktop-image');if(mobImagepath&&desktopImagePath)if($(window).width()<820)$(this).css('background-image','url('+mobImagepath+')');else $(this).css('background-image','url('+desktopImagePath+')');});}}applyRelatedContentBgImageSrc();$(window).resize(function(e){applyRelatedContentBgImageSrc();});once('add-filter-chips-on-load','html').forEach((ele)=>{$(document).on('filterSearchChipRemoval filterSearchClear multiSelectInputToggle',(e)=>{loadExploreMore(e.target);if(e.type==='multiSelectInputToggle'&&e.selected)$('.selected-chips .chip[option-name^="'+$(e.target).val()+'"]:not(:last)').remove();});});}};})(jQuery,Drupal,drupalSettings,once);;
(function($,Drupal,drupalSettings){var hostname=window.location.origin;var langUrl='';var lang_param=getUrlParameter("langcode");var langCode='';if(lang_param==''||lang_param===undefined)langCode=drupalSettings.path.currentLanguage;else langCode=lang_param;if(langCode!='en')langUrl='/'+langCode;var gid=drupalSettings.menu_gid;if(typeof gid==='undefined'||gid.length===0)var gid=0;$.ajax({url:hostname+langUrl+'/get/'+gid+'/main-menu',context:document.body,method:"GET",error:function(){}}).done(function(data){if(data){var main_result=$(data).filter('.mega-wrapper-ajax');$('.mega-wrapper').html(main_result);var mobile_result=$(data).filter('.mobile-mega-wrapper');$('.mobile-sub-menu').html(mobile_result);var dropdown_menu=$(data).filter('.overflow');$('nav.dropdown-menu').html(dropdown_menu);navigationMultiLevelEdgeDetection();navigationOverFlow();}Drupal.attachBehaviors(document,Drupal.settings);});if(!drupalSettings.location_menu_hide)$.ajax({url:hostname+langUrl+'/get/'+gid+'/location-menu',context:document.body,method:"GET"}).done(function(data){if(data)$('.country-switcher-ajax-wrapper').html(data);else{}Drupal.attachBehaviors(document,Drupal.settings);});function getUrlParameter(sParam){var sPageURL=window.location.search.substring(1),sURLVariables=sPageURL.split('&'),sParameterName,i;for(var i=0;i<sURLVariables.length;i++){sParameterName=sURLVariables[i].split('=');if(sParameterName[0]===sParam)return sParameterName[1]===undefined?true:decodeURIComponent(sParameterName[1]);}return;}})(jQuery,Drupal,drupalSettings);;
(function($,Drupal,once){Drupal.behaviors.AcquiaSearchStaxBehavior={attach:function(context,settings){let timer;const doneTypingInterval=1000;const charLength=3;once('searchstax-input-container','#searchstax-input-container',context).forEach(()=>{import('https://cdn.jsdelivr.net/npm/@searchstax-inc/searchstudio-ux-js@2.0.0/+esm').then((module)=>{const searchstax=new module.Searchstax();let params;try{params=JSON.parse(atob(settings.undp_solr_search.searchstax));if(!params.endpoint||params.endpoint.trim()=='')throw new Error('SearchStax endpoint is not configured. Please add at least searchstax_search_endpoint and searchstax_search_token keys');}catch(e){console.warn('Error parsing search parameters: ',e.message);return;}window.dataLayer=window.dataLayer||[];const labels=$('#searchstax-results-container').data('labels');const supportedLangs=['ar','bg','ca','hr','cs','da','nl','en','et','fi','fr','de','el','hi','hu','ga','id','it','ja','no','pl','pt','ro','ru','sr','sk','es','sv','th','tr','uk','vi','zh'];let currentLanguage=supportedLangs.includes(settings.path?.currentLanguage)?settings.path.currentLanguage:'en';if(currentLanguage=='pt')currentLanguage='pt_pt';const config={language:currentLanguage,searchURL:params.endpoint,suggesterURL:params.suggester,searchAuth:params.token,authType:'token',router:{enabled:false},hooks:{beforeSearch:(props)=>{if(searchstax.firstRequest&&location.search.includes('searchstax[query]=')){resetSearch();return null;}if($('#searchstax-group-switch').hasClass('switch--untoggled')){const group=$('#searchstax-group-switch').data('group');const groupParam=group&&group.length>2?'sm_group:'+group:'-sm_group:[* TO *]';props.additionalProps=[{key:'fq',value:groupParam}];}if(typeof gtag==='function')gtag("event","search",{search_term:props.query});else window.dataLayer.push({event:"search",search_term:props.query});return props;},afterSearch:(results)=>{if(!$('#search-stax-modal').hasClass('active'))$('#search-stax-modal').addClass('active');setTimeout(()=>{const sortSelect=document.getElementById('searchstax-search-order-select');if(sortSelect&&sortSelect.tagName==='SELECT')Array.from(sortSelect.options).forEach((option)=>{if(option.text.trim()==='Relevance')option.text=labels.relevance;});const ribbons=document.querySelectorAll('.searchstax-search-result-ribbon .chip');ribbons.forEach((ribbon)=>{const contentType=ribbon.textContent.trim().toLowerCase();if(contentType==='document')ribbon.innerHTML=Drupal.t('Document');else if(contentType==='group')ribbon.innerHTML=Drupal.t('Group');else{const ct=document.querySelector('[data-content-types-'+contentType+']');if(ct)ribbon.innerHTML=ct.getAttribute('data-content-types-'+contentType);}});});$('#searchstax-search-input').trigger('blur');return results.map((result)=>{let i=result.unmappedFields.findIndex((ele)=>ele.key==='ss_url');if(i>-1)result.unmappedFields[i].value=Drupal.url.toAbsolute(result.unmappedFields[i].value);if(result.description&&result.description.length>700){let desc=result.description;const idx=desc.indexOf(' ',650);if(idx>-1)desc=desc.substring(0,idx)+' ...';result.description=desc;}return result;});}}};searchstax.initialize(config);searchstax.addSearchInputWidget('searchstax-input-container',{hooks:{beforeAutosuggest:()=>null},templates:{mainTemplate:{template:`<div class="icon"><span class="search-icon"></span></div><input id="searchstax-search-input" type="text" size="60" maxlength="128" />`,searchInputId:'searchstax-search-input'}}});searchstax.addSearchResultsWidget('searchstax-results-container',{renderMethod:'pagination',templates:{searchResultTemplate:{template:`
                  <a href="{{url}}" data-searchstax-unique-result-id="{{uniqueId}}" data-test-id="searchstax-result-item-link" class="searchstax-result-item-link searchstax-result-item-link-wrapping" tabindex="0">
                  <div class="searchstax-search-result searchstax-search-result-wrapping {{#thumbnail}} has-thumbnail {{/thumbnail}}">
                  {{#promoted}}
                      <div class="searchstax-search-result-promoted" data-test-id="searchstax-search-result-promoted"></div>
                  {{/promoted}}

                  {{#ribbon}}
                      <div class="searchstax-search-result-ribbon" data-test-id="searchstax-search-result-ribbon">
                      <span class="chip">{{{ribbon}}}</span>
                      </div>
                  {{/ribbon}}

                  {{#thumbnail}}
                      <img alt="" src="{{thumbnail}}" alt="image" class="searchstax-thumbnail" data-test-id="searchstax-thumbnail">
                  {{/thumbnail}}
                  <div class="searchstax-search-result-title-container" data-test-id="searchstax-search-result-title-container">
                      <h3 class="searchstax-search-result-title">{{{title}}}</h3>
                  </div>

                  {{#paths}}
                      <p class="searchstax-search-result-common" data-test-id="searchstax-search-result-common">
                          {{{paths}}}
                      </p>
                  {{/paths}}

                  {{#description}}
                      <p class="searchstax-search-result-description searchstax-search-result-common" data-test-id="searchstax-search-result-description">
                          {{{description}}}
                      </p>
                  {{/description}}

                  {{#unmappedFields}}
                      {{#isImage}}
                          <div class="searchstax-search-result-image-container">
                          <img alt="" src="{{value}}" alt="image" class="searchstax-result-image" data-test-id="searchstax-result-image">
                          </div>
                      {{/isImage}}
                      {{^isImage}}
                          <p class="searchstax-search-result-common">
                          {{{value}}}
                          </p>
                      {{/isImage}}
                  {{/unmappedFields}}
                  {{#distance}}
                      <p class="searchstax-search-result-distance searchstax-search-result-common" data-test-id="searchstax-search-result-distance">
                          {{distance}} {{unit}}
                      </p>
                  {{/distance}}
                  </div>
                  </a>
                `,searchResultUniqueIdAttribute:"data-searchstax-unique-result-id"},noSearchResultTemplate:{template:`
                  <div class="searchstax-no-results">
                      <p>${labels.showing} <strong>${labels.noresults}</strong> ${labels.for} <strong>"{{ searchTerm }}"</strong></p>
                      {{#spellingSuggestion}}
                          <p>${labels.didYouMean} <a href="#" aria-label="${labels.didYouMean}: {{originalQuery}}" class="searchstax-suggestion-term">{{ spellingSuggestion }}</a>?</p>
                      {{/spellingSuggestion}}
                  </div>
                  `}}});searchstax.addSearchFeedbackWidget("search-feedback-container",{templates:{main:{template:`
                {{#searchExecuted}}
                    <h4 class="searchstax-feedback-container" data-test-id="searchstax-feedback-container">
                      {{#hasResults}}
                         <span> ${labels.showing} <b>{{startResultIndex}} - {{endResultIndex}}</b> </span> ${labels.of} <b>{{totalResults}}</b> ${labels.results} {{#searchTerm}} ${labels.for} "<b>{{searchTerm}}</b>" {{/searchTerm}}
                          <div class="searchstax-feedback-container-suggested" data-test-id="searchstax-feedback-container-suggested">
                            {{#autoCorrectedQuery}}
                              ${labels.searchInsteadFor} <a href="#" aria-label="${labels.searchInsteadFor}: {{originalQuery}}" class="searchstax-feedback-original-query" data-test-id="searchstax-feedback-original-query">{{originalQuery}}</a>
                            {{/autoCorrectedQuery}}
                          </div>
                        {{/hasResults}}
                    </h4>
                {{/searchExecuted}}
                `,originalQueryClass:`searchstax-feedback-original-query`}}});searchstax.addPaginationWidget('searchstax-pagination-container',{templates:{mainTemplate:{template:`
                  {{#results.length}}
                    <nav class="pagination" aria-label="Pagination" role="navigation" data-test-id="searchstax-pagination-container">
                      <ul>
                        <li{{#isFirstPage}} class="disabled" aria-disabled="true"{{/isFirstPage}}>
                          <a id="searchstax-pagination-previous" data-test-id="searchstax-pagination-previous" class="searchstax-pagination-previous" role="button" aria-current="true" aria-label="${labels.previous}">
                            ${labels.previous}
                          </a>
                        </li>
                        <li class="searchstax-pagination-details" data-test-id="searchstax-pagination-details">
                          {{startResultIndex}} - {{endResultIndex}} ${labels.of} {{totalResults}}
                        </li>
                        <li{{#isLastPage}} class="disabled" aria-disabled="true"{{/isLastPage}}>
                          <a data-test-id="searchstax-pagination-next" id="searchstax-pagination-next" class="searchstax-pagination-next" aria-label="${labels.next}">${labels.next}</a>
                        </li>
                      </ul>
                    </nav>
                  {{/results.length}}
                  `,previousButtonClass:"searchstax-pagination-previous",nextButtonClass:"searchstax-pagination-next"}}});function smoothScrollToSearchInput(){const input=document.getElementById('searchstax-search-input')||document.getElementById('searchstax-input-container');if(!input)return;let parent=input.parentElement;let scrollable=null;while(parent){const style=window.getComputedStyle(parent);if((style.overflowY==='auto'||style.overflowY==='scroll')&&parent.scrollHeight>parent.clientHeight){scrollable=parent;break;}parent=parent.parentElement;}const headerOffset=80;if(scrollable){const top=input.offsetTop-headerOffset;scrollable.scrollTo({top:top<0?0:top,behavior:'smooth'});}else{const rect=input.getBoundingClientRect();const top=rect.top+window.pageYOffset-headerOffset;window.scrollTo({top:top<0?0:top,behavior:'smooth'});}}searchstax.dataLayer.$paginationData.subscribe((data)=>{if(data&&data.searchExecuted)setTimeout(smoothScrollToSearchInput,50);});$(document).on('click','#searchstax-pagination-next, #searchstax-pagination-previous',function(){setTimeout(smoothScrollToSearchInput,50);});searchstax.addSearchSortingWidget('search-sorting-container',{templates:{main:{template:`
              {{#searchExecuted}}
                {{#hasResultsOrExternalPromotions}}
                <div class="searchstax-sorting-container" data-test-id="searchstax-sorting-container">
                    <label class="searchstax-sorting-label" data-test-id="searchstax-sorting-label" for="searchstax-search-order-select">${labels.sortBy}</label>
                    <select id="searchstax-search-order-select" class="searchstax-search-order-select" data-test-id="searchstax-search-order-select" >
                    {{#sortOptions}}
                        <option value="{{key}}">
                        {{value}}
                        </option>
                    {{/sortOptions}}
                    </select>
                </div>
                {{/hasResultsOrExternalPromotions}}
              {{/searchExecuted}}
              `,selectId:`searchstax-search-order-select`}}});$('#searchstax-search-input').on('keyup',(event)=>{clearTimeout(timer);const term=$(event.currentTarget).val();if((event.keyCode==8||event.keyCode==46||(/[a-zA-Z0-9-_ ]/.test(String.fromCharCode(event.keyCode))))&&term.length>=charLength)timer=setTimeout((ss,keyword)=>{ss.executeSearch(keyword);},doneTypingInterval,searchstax,term);}).on('keydown',()=>{clearTimeout(timer);});function resetSearch(){$('#search-stax-modal').removeClass('active');$('#searchstax-search-results, #searchstax-pagination-container, #search-sorting-container, #search-feedback-container').empty();$('#searchstax-search-input').val('');const url=new URL(location.href);url.search='';history.pushState(null,'',url.toString());}if(settings.path?.currentPath?.endsWith('/search'))$('.icon-search, .footer .icon').addClass('disabled');else{$('.icon-search, .footer .icon').on('click',(e)=>{e.stopImmediatePropagation();$('.icon-search').toggleClass('active').siblings().removeClass('active');$('.modal-popular-search').toggleClass('hide');$('#modal-search-offices').addClass('hide');$('.mobile-nav').removeClass('show');$('.menu-hamburger').removeClass('is-active');$('#searchstax-search-input').focus();$('body').toggleClass('modal-open',$('.icon-search').hasClass('active'));if(!$('.icon-search').hasClass('active'))resetSearch();});$(document).keydown(function(event){if(event.keyCode==27){$('.icon-search').removeClass('active');$('.icon-search .hide-search').removeClass('hide');$('.icon-search .icon-close').addClass('hide');$('.modal-popular-search').addClass('hide');$('.icon-globe').removeClass('active');$('.modal-search-offices').addClass('hide');$input.val('').trigger('change');$('body').removeClass('modal-open');resetSearch();}});$('.search-details-container .switch').on('click',(e)=>{$(e.currentTarget).toggleClass('switch--toggled switch--untoggled');searchstax.executeSearch(searchstax.searchInputWidget.currentInputValue);});}}).catch((e)=>{console.warn('Error loading SearchStax library:',e.message);});});}};})(jQuery,Drupal,once);;
