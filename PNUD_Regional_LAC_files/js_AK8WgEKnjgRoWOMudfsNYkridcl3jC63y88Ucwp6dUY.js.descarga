/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
;(function($,Drupal){class SDGModal{constructor(container='#modal-sdgs',modalTrigger='.sdg-card-list-wrapper .sdg-card'){this.$body=$('body');this.$html=$('html');this.$window=$(window);this.$modal=$(container);this.$openModal=$(modalTrigger);this.$modalBtnClose=this.$modal.find('.btn-close');this.$modalContent=this.$modal.find('.modal-content');this.$modalContentWrapper=this.$modal.find('[data-sdg-content-wrapper]');this.slug=null;this.color=null;this.meta=null;this.classes={hide:'hide',modalOpen:'open sdg-open',lockBody:'modal-open'};this.$nextSdg=null;this.$nextSdgCta=this.$modal.find('.next-sdg-container');}init(){this.bindEvents();this.checkUrlHash();this.saveMetadata();}bindEvents(){this.setKeyPressListener();this.setOpenModalListener();this.setCloseModalListener();this.setWindowClickListener();}removeHash(){history.pushState(document.title,'',this.meta.canonical+location.search);}sdgSwiperInit($sdgModal){if($sdgModal.length)if(typeof swiper!=='undefined'&&swiper!=='null')swiper($sdgModal);}sdgFontResize($sdgCards){if($sdgCards.length)if(typeof fontResize!=='undefined'&&fontResize!=='null')fontResize($sdgCards);}open(){if(this.$modalContentWrapper.find('.stats-slider').length)this.sdgSwiperInit(this.$modalContentWrapper.find('.stats-slider'));if(this.$modalContentWrapper.find('.stats-card h2').length)this.sdgFontResize(this.$modalContentWrapper.find('.stats-card h2'));let $this=this;this.$modalContent.animate({scrollTop:0},200,"linear",function(){$this.$body.addClass($this.classes.lockBody);$this.$html.addClass($this.classes.lockBody);$this.$modal.addClass($this.classes.modalOpen);if((typeof Drupal==='object')&&(Drupal.behaviors.undpViewsLoadMore!==undefined))Drupal.behaviors.undpViewsLoadMore.attach(document);$this.updateMetadata();});}close(){if(!this.$modal.length)return false;const $cards=$('.cards-slider');this.removeHash();$cards.find('.sdg-card-container').removeClass('in-viewport');let $this=this;this.$modalContent.animate({scrollTop:0},200,"linear",function(){$this.$html.removeClass($this.classes.lockBody);$this.$body.removeClass($this.classes.lockBody);$this.$modal.removeClass($this.classes.modalOpen);$this.resetMetadata();});}saveMetadata(){this.meta={title:$('head > title').text(),canonical:$('head > link[rel="canonical"]').attr('href'),description:$('head > meta[name="description"]').attr('content'),image:$('head > meta[property="og:image"]').attr('content')};}updateMetadata(){$('head > title').text(this.$modalContent.find('.sdg-container .heading h3').text().trim()+': '+this.$modalContent.find('.sdg-container .heading h2').text().trim()+' | '+this.meta.title);$('head > meta[property="og:title"]').attr('content',$('head > title').text());$('head > link[rel="canonical"]').attr('href',this.meta.canonical+'/'+this.slug);$('head > meta[property="og:url"]').attr('content',$('head > link[rel="canonical"]').attr('href'));$('head > meta[name="description"],head > meta[property="og:description"]').attr('content',this.$modalContent.find('.sdg-container .description .coh-wysiwyg').text().trim());$('head > meta[property="og:image"],head > meta[name="twitter:image"]').attr('content',this.$modalContent.find('.sdg-container .description img').attr('src'));}resetMetadata(){$('head > title').text(this.meta.title);$('head > meta[property="og:title"]').attr('content',$('head > title').text());$('head > link[rel="canonical"]').attr('href',this.meta.canonical);$('head > meta[property="og:url"]').attr('content',$('head > link[rel="canonical"]').attr('href'));$('head > meta[name="description"],head > meta[property="og:description"]').attr('content',this.meta.description);$('head > meta[property="og:image"],head > meta[name="twitter:image"]').attr('content',this.meta.image);}setCloseModalListener(){this.$modalBtnClose.click((e)=>{e.preventDefault();this.close();});}setKeyPressListener(){this.$window.keyup((e)=>{if(e.keyCode===window.UNDP.keyCode.ESC)this.close();});}setOpenModalListener(){const $sdgCardList=$('.sdg-card-list-wrapper');const that=this;that.$openModal.click((ev)=>{let $target=$(ev.currentTarget);ev.preventDefault();that.setModalSdg($target);window.dataLayer=window.dataLayer||[];dataLayer.push({'event':'trackEvent','eventCategory':that.meta.canonical+'/'+$target.data('slug'),'eventAction':'SDG goal click','eventLabel':$target.data('title')});});that.$nextSdgCta.click(()=>{const nextSdg=that.$nextSdgCta.find('.sdg-card');$sdgCardList.find(`[data-number="${nextSdg.data('number')}"]`).trigger('click');});}setNextSdgCtaData(){if(this.number===17){this.$nextSdgCta.addClass('hide');return;}const nextSdgTitle=this.$nextSdg.data('title');const nextSdgNumber=this.$nextSdg.data('number');this.$nextSdg=this.$nextSdgCta.find('.sdg-card');this.removeColorClasses(this.$nextSdgCta);this.$nextSdg.data('number',nextSdgNumber);this.$nextSdg.addClass(`sdg-color-${nextSdgNumber}`);this.$nextSdgCta.removeClass('hide');this.$nextSdgCta.find('.title').html(nextSdgTitle);this.$nextSdgCta.find('.number').html(nextSdgNumber);}setWindowClickListener(){this.$window.on('click',(evt)=>{if(this.$modal.has(evt.target).length&&this.$modal.hasClass(this.classes.modalOpen)&&!this.$modalContent.has(evt.target).length)this.close();});}addColorClasses(){this.removeColorClasses(this.$modalContent);this.$modalContent.find('.side-spacing').addClass(`sdg-${this.color}`);}removeColorClasses($container){const $colorClasses=$container.find('[class*=sdg-color-]');$colorClasses.each((i,node)=>{node.className=node.className.split(' ').filter((c)=>!c.startsWith('sdg-color-')).join(' ').trim();});}setModalSdg($sdg){let $sdgModalContent=$sdg.next('.sdg-modal-content');if(!$sdgModalContent.length)return false;this.slug=$sdg.data('slug');this.color=$sdg.data('color');this.number=$sdg.data('number');this.$modalContentWrapper.html($sdgModalContent.html());this.$nextSdg=$sdg.parent().next().find('.sdg-card');var baseURL=(this.meta)?this.meta.canonical:$('head > link[rel="canonical"]').attr('href');history.pushState({slug:this.slug},window.title,baseURL+'/'+this.slug+location.search);this.open();this.addColorClasses();this.setNextSdgCtaData();}checkUrlHash(){let $canonical=$('head > link[rel="canonical"]');let slug=($canonical.attr('href')!=location.origin+location.pathname)?location.href.substring($canonical.attr('href').length+1,location.href.length-location.search.length-location.hash.length):'';const $targetSdg=$(`.sdg-card[data-slug="${slug}"]`);if(slug!='')$('article .breadcrumb ul').children().last().remove();if(!$targetSdg.length){if(slug!='')history.pushState(null,window.title,$canonical.attr('href'));return false;}this.setModalSdg($targetSdg);}setCardsAnimation(){const threshold=this.$window.height()*0.75;const $cards=this.$modalContentWrapper.find('.cards-slider');const $animTarget=$cards.find('.sdg-card-container');let cardsPos;let shouldAnimate=false;this.$modalContent.scroll(()=>{cardsPos=$cards.position();shouldAnimate=cardsPos.top<=threshold;if(shouldAnimate&&!$animTarget.hasClass('in-viewport')){$animTarget.addClass('in-viewport');this.$modalContent.find('.track').addClass('in-viewport');}});}}$(window).on('load',function(){if($('#modal-sdgs').length){const modalSdgs=new SDGModal();modalSdgs.init();}});})(jQuery,Drupal);;
!function(e,o){if("object"==typeof exports&&"object"==typeof module)module.exports=o();else if("function"==typeof define&&define.amd)define([],o);else{var t=o();for(var i in t)("object"==typeof exports?exports:e)[i]=t[i];}}(self,(()=>(($)=>{"use strict";var e={671:(e,o,t)=>{t.d(o,{windowResize:()=>r});let i,n=!0;function r(e,o){e.resize((function(){var o;o=e,n?((e)=>{e.trigger("resizestart"),n=!n;})(o):((e)=>{clearTimeout(i),i=setTimeout((function(){e.trigger("resizeend"),n=!n;}),200);})(o);})),e.on("resizeend",o);}}},o={};function t(i){var n=o[i];if(void 0!==n)return n.exports;var r=o[i]={exports:{}};return e[i](r,r.exports,t),r.exports;}t.d=(e,o)=>{for(var i in o)t.o(o,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:o[i]});},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=(e)=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0});};var i={};return (()=>{t.r(i),t.d(i,{sticky:()=>o});var e=t(671);function o(o,t,i){const n=()=>{const e=$(i);$(e).length&&(e.innerHeight()>$(window).innerHeight()-$(".header").height()?e.addClass("scrollbar"):e.removeClass("scrollbar"));};$(window).on("load",(function(){n();}));const r=(e)=>{((e)=>{const i=$(o),n=$(t);if($(i).length&&$(n).length&&$(window).width()>=(window.UNDP.breakpoints.LARGE||1024)){const e=$(i).offset().top,o=$(".header").innerHeight()+15||130;let init=!$(i).has('nav')||$(i).find('.menus li').length>0;const stickyScroll=function(){const t=$(i).innerHeight(),r=$(n).innerHeight(),s=$(n).offset().top,x=$(n).position().top,w=$(i).width();let d=Math.round($(window).scrollTop()),l=Math.round(e-o)<d,fx=Math.round(x+r-t),fs=Math.round(s+r-t),c=d>fs-o;l&&!c?$(i).css({position:"fixed",top:o,maxWidth:"inherit",width:w}):c?$(i).css({position:"absolute",top:fx,maxWidth:"revert",width:w}):$(i).css({position:"absolute",top:"initial",maxWidth:"revert",width:w});};if(e&&init)$(window).on("scroll",stickyScroll);else{$(i).removeAttr("style");$(window).off("scroll",stickyScroll);}}})($(window).width()>=(window.UNDP.breakpoints.LARGE||1024));};$(document).ready((()=>{let e=!1;e||(r(),e=!0);})),e.windowResize($(window),((e)=>{r(),n();}));}})(),i;})(jQuery)));;
;(function($,Drupal,once){'use strict';Drupal.behaviors.undpGlobalThemeInit={attach:function(context,settings){once('undpGlobalThemeInitOnLoad','html').forEach(()=>{let hamburgerMenu=$('.menu-hamburger');let locationFilters=$('#modal-search-offices');hamburgerMenu.click(function(e){locationFilters.addClass('hide');$('.modal-search-offices-filters').addClass('hide');if($('.mobile-nav').hasClass('show-location')){$('.mobile-nav').removeClass('show-location');$(this).toggleClass('is-active');e.stopImmediatePropagation();}$('body').toggleClass('modal-open');$('.icon-search').removeClass('active');$('.modal-popular-search').addClass('hide');$('.modal-search-offices').addClass('hide');});$('.feature__card > a[href=""]').on('click',function(e){e.preventDefault();});});}};$('.modal-sdg .close, .modal-sdg .modal-header').on('click',()=>{$('.modal-sdg').addClass('animation-out');setTimeout(function(){$('.modal-sdg').removeClass('sdg-open animation-out');},200);$('body').removeClass('sdgmodal-open');});$(window).on('load',function(){$('.stats-panel .media--blazy').removeClass('is-b-loading');setTimeout(function(){$('.mega-wrapper a[data-extlink]').append('<span class="external-link-animated">');$(".footer .ext, .footer [target='_blank']").append('<span class="external-link-animated">');},2000);});Drupal.behaviors.customBehavior={attach:function(context,settings){if($('.coh-wysiwyg .cta__link.cta--arrow i').length==0)$('.coh-wysiwyg .cta__link.cta--arrow').append('<i></i>');if($('.coh-wysiwyg .cta__link.cta--space i').length==0)$('.coh-wysiwyg .cta__link.cta--space').append('<i></i>');$('.sub-menu-content:first-child').addClass('active-content').siblings().removeClass('active-content');$('.mob-globe').click(function(){$('.mobile-nav').removeClass('show');});if($('section').hasClass('modal-search-offices'))$('.icon-globe').removeClass('disabled');$('.scroll-up').on('click',function(){$(window).scrollTop(0);});if($('.sub-menu-content .mega-image').length)$('.mega-image').parent('.sub-menu-content').addClass('two-div');$('.icon-search, .footer .icon').click(function(){$('body').toggleClass('modal-open');if($('.modal-popular-search').hasClass('hide'))$('body').addClass('modal-open');});$('a.biocard-link').each(function(i){var aHref=$(this).attr('href');if(aHref!='')$(this).attr('href',aHref);else $(this).attr('href','javascript:void(0)');});$('header .menu a[href=""]').click(function(event){event.preventDefault();});$('.expand-button').click(function(){$('.expand-search input').focus();});$('#modal-search-offices .btn-back').click(function(){$('.mobile-nav').addClass('show');});$(".back-nav").on("click",(function(){$(".mobile-sub-menu, .mob-sub-lang").removeClass("show");$(".mobile-mega-content").removeClass("show-content");$(".mobile-links").removeClass("hide");}));$('.small-leader-card div').on('click',(function(){$('.leader-modal').addClass('open');}));$('.results-and-filters-container .facet-item.show-checkbox').on('click',function(){var $checkbox=$(this).find(':checkbox');var checkBoxes=$(this).children("input[type='checkbox']");(checkBoxes.prop("checked")==true)?checkBoxes.prop("checked",false):checkBoxes.prop("checked",true);});var bodyHeight=$('.publication-block').height();var stickyHeight=$('.publication-page .sticky').height();setTimeout(function(){if(stickyHeight>=bodyHeight)$('.publication-page.fluid').addClass('min-body');},1000);setTimeout(function(){if($('div').hasClass('related-publication'))$('.publication-page.fluid').removeClass('min-body');},1000);const heroheading=document.querySelectorAll('.project-page-hero-wrapper .content-box .coh-heading');heroheading.forEach((item)=>{dynamicFontResize(item);});function dynamicFontResize(element){const maxHeight=element.parentNode.clientHeight;let currentFont=parseInt(window.getComputedStyle(element).fontSize);while(element.offsetHeight>maxHeight){currentFont--;element.style.fontSize=currentFont+"px";element.parentElement.classList.add("heading-spacing");}}$('.advanced-content-listing .views-infinite-scroll-content-wrapper').addClass('coh-row-inner');$('.has-submenu .advance-button-select-sub .form-checkbox').each(function(){$(this).first().insertBefore($(this).parent().parent().parent());});$(".sort-filter-search-btn").click(function(){$(".search-filter").toggleClass("show-filter");$('.sort-filter-search-btn').toggleClass("close");$('.sort-sf').toggleClass("inactive");$('.close-class').toggleClass("close");});}};$(window).bind('keydown',function(e){if(e.keyCode===27){$('.leader-modal').removeClass('is-open');$('.leader-modal div').removeClass('is-open');$('.leader-modal').attr('hidden','');$('body').removeClass('coh-modal-overlay-open');$('.dialog-off-canvas-main-canvas').removeAttr('inert');}});$(document).ajaxStart(function(){$('.selected-chips span').each(function(){$(this).text($("label[for='"+$(this).attr('option-name')+"']").text());});$('.advanced-content-search-wrapper .select-wrapper').addClass('eventdisabled');$('.advanced-content-search-wrapper .close-button.show').addClass('eventdisabled');});$(document).ajaxComplete(function(){$('.advanced-content-search-wrapper .select-wrapper').removeClass('eventdisabled');$('.advanced-content-search-wrapper .close-button.show').removeClass('eventdisabled');});$(document).ready(function(){$('.custom-page-sidebar-menu a.is-active').parents('li.has-children').addClass('active');$('li.has-children.active > ul.accordion__panel').css('display','block');});})(jQuery,Drupal,once);;
(function($,Drupal,once){"use strict";Drupal.behaviors.locations={attach:function(context,settings){let multiSelectFilters=$('[data-location-filter]');let searchInput=$('[data-location-search]');let countryList=$('[data-city-filters]');let activeFiltersContainer=$('[data-container-filters]');let classHide='hide';let filters={region:[],office:[],inputSearch:''};let mobileOfficeFilters=$('#modal-search-offices-filters');let locationPopup=$('.modal-search-offices');let locationModal=$('.header .icon-globe');let locationFooter=$('.footer .icon-globe');let locationDropdown=$('.search-select-group .multi-select .select-control');let totalMatches=0;let btnFilterCounter=$('[data-open-filters] .counter');let checkboxFilter=$('[data-filter-checkbox]');let btnClearCheckboxs=$('[data-filter-clear]');let btnFilterShowMatchesCounter=$('[data-btn-filters-show-matches] .counter');let mobileLocationModal=$('#modal-search-offices-filters .btn-filters');let mobileFilterPop=$('.filter-options .btn-filters');let mobileLocation=$('.mobile-nav-options .mob-globe');let backButton=$('.modal-search-offices .btn-back');let filterBackbutton=$('.modal-search-offices-filters .btn-back');let mobileNav=$('.mobile-nav');searchInput.on('keyup',function(){filters.inputSearch=searchInput.val().toLowerCase();search();});multiSelectFiltersListener();mobileFiltersListener();removeFilterListener();clearAllFiltersListener();once('locations-modal-search-offices','.modal-search-offices',context).forEach((ele)=>{$(ele).find('.cell').click(function(e){if(!$(e.target).closest('.multi-select').hasClass('open'))multiSelectFilters.removeClass('open');});});once('locations-select-control','.search-select-group .multi-select .select-control',context).forEach((ele)=>{$(ele).on('click',function(){if(!$(this).closest('.multi-select').hasClass('open'))multiSelectFilters.removeClass('open');$(this).closest('.multi-select').toggleClass('open');});});function mobileFiltersListener(){checkboxFilter.on('change','input[type=checkbox]',(evt)=>{evt.stopImmediatePropagation();updateFilters($(evt.currentTarget));});btnClearCheckboxs.click((evt)=>{evt.preventDefault();checkboxFilter.find('input[type=checkbox]').prop('checked',false);filters.region=[];filters.office=[];search();});}function showSelectedFilterPills(){const checkedOptions=multiSelectFilters.find("input:checked");activeFiltersContainer.html('');if(checkedOptions.length){activeFiltersContainer.append('<p class="tag">Active filters:</p>');checkedOptions.each((i,input)=>{const text=$(input).parent().text();const inputValue=$(input).val();activeFiltersContainer.append('<a class="chip chip__cross filter" href="#" data-remove-filter data-input-value="'+inputValue+'">'+text+'</a>');});activeFiltersContainer.append('<a class="filter-clear" data-close-all-select href="#">Clear All</a>');}}function removeFilterListener(){activeFiltersContainer.on('click','[data-remove-filter]',(evt)=>{evt.preventDefault();const clickedPill=$(evt.currentTarget);const inputValue=clickedPill.data('input-value');const input=multiSelectFilters.find('input[value="'+inputValue+'"]');input.prop('checked',false);const counter=input.closest('.options').siblings('.select-control').find('span');const total=counter.text().match(/\d/g);counter.text(total&&total>1?`(${total.join("")-1})`:'');clickedPill.remove();if(!multiSelectFilters.find('input:checked').length)activeFiltersContainer.html('');updateFilters(input);});}function clearAllFiltersListener(){activeFiltersContainer.on('click','[data-close-all-select]',(evt)=>{evt.preventDefault();activeFiltersContainer.html('');multiSelectFilters.find("input:checked").prop('checked',false);multiSelectFilters.find('.select-control span').text('');filters.region=[];filters.office=[];search();});var $searchClear=$('.input-search+.search-clear');setInterval(function(){$(context).find('.input-search').on('keyup',function(event){if($(this).val()!='')$(context).find($searchClear).css('opacity','1');else $(context).find($searchClear).css('opacity','0');;});$(context).find($searchClear).on('click',function(){$(context).find('.input-search').val('');$(context).find($searchClear).css('opacity','0');$('.countries .country-item').removeClass(classHide);});$(document).ajaxSuccess(function(){$.fn.focusTextToEnd=function(){this.focus();var $thisVal=this.val();this.val('').val($thisVal);return this;};$('#modal-popular-search .results-and-filters-container .form-type-textfield input').focusTextToEnd();});$(context).find('.icon-globe').on('click',function(){$(context).find('.input-search').val('');$(context).find($searchClear).css('opacity','0');});},100);}function multiSelectFiltersListener(){multiSelectFilters.each((i,multiSelect)=>{let currentMultiSelect=$(multiSelect);currentMultiSelect.on('change','input[type="checkbox"]',(evt)=>{evt.stopImmediatePropagation();updateFilters($(evt.currentTarget));const inputs=currentMultiSelect.find("input:checked");const total=inputs.length;const counter=currentMultiSelect.find('.select-control span');counter.text('('+total+')');if(total===0)counter.text('');showSelectedFilterPills();});});}function updateFilters(input){const inputType=input.closest('[data-type]').data('type');const inputValue=input.val();if(input.is(":checked"))filters[inputType].push(inputValue);else{const index=filters[inputType].indexOf(inputValue);if(index!==-1)filters[inputType].splice(index,1);}search();}function search(){let filtered;countryList=$('[data-city-filters]');if(filters.office.length&&filters.region.length)filtered=countryList.filter((index,node)=>{const text=$(node).data('city-filters').toLowerCase();if(filters.inputSearch.length)return (text.includes(filters.inputSearch.toLowerCase())&&filters.region.filter((value)=>text.includes(value.toLowerCase())).length&&filters.office.filter((value)=>text.includes(value.toLowerCase())).length);return (filters.region.filter((value)=>text.includes(value.toLowerCase())).length&&filters.office.filter((value)=>text.includes(value.toLowerCase())).length);});else if(filters.region.length)filtered=countryList.filter((index,node)=>{const text=$(node).data('city-filters').toLowerCase();if(filters.inputSearch.length)return (text.includes(filters.inputSearch.toLowerCase())&&filters.region.filter((value)=>text.includes(value.toLowerCase())).length);return filters.region.filter((value)=>text.includes(value.toLowerCase())).length;});else if(filters.office.length)filtered=countryList.filter((index,node)=>{const text=$(node).data('city-filters').toLowerCase();if(filters.inputSearch.length)return (text.includes(filters.inputSearch.toLowerCase())&&filters.office.filter((value)=>text.includes(value.toLowerCase())).length);return filters.office.filter((value)=>text.includes(value.toLowerCase())).length;});else{if(filters.inputSearch.length)filtered=countryList.filter((index,node)=>{const text=$(node).data('city-filters').toLowerCase();return text.includes(filters.inputSearch.toLowerCase());});}if(filters.inputSearch.length>0||filters.office.length>0||filters.region.length>0){countryList.addClass(classHide);filtered.removeClass(classHide);totalMatches=filtered.length;}else{totalMatches=0;countryList.removeClass(classHide);}mobileUpdateFilters();}function mobileUpdateFilters(){if($(window).width()<=1024){printTotalMatches();printTotalFiltersApplied();}}function printTotalFiltersApplied(){const totalFilters=filters.region.length+filters.office.length;btnFilterCounter.text(totalFilters);btnFilterCounter.toggleClass(classHide,totalFilters==0);}function printTotalMatches(){btnFilterShowMatchesCounter.text(` ${totalMatches} `);btnFilterShowMatchesCounter.toggleClass(classHide,totalMatches===0);}locationModal.on('click',function(e){e.stopImmediatePropagation();$('.modal-search-offices').toggleClass('hide');$('body').addClass('modal-open');$(this).toggleClass('active').siblings().removeClass('active');$('.modal-popular-search').addClass(classHide);if($('.modal-search-offices').hasClass('hide'))$('body').removeClass('modal-open');$('#search-offices').focus();});mobileLocation.on('click',function(){mobileNav.addClass('show-location');locationPopup.removeClass('hide');});backButton.on('click',function(){mobileNav.removeClass('show-location');locationPopup.addClass(classHide);});filterBackbutton.on('click',function(){mobileOfficeFilters.addClass(classHide);});mobileFilterPop.on('click',function(){mobileOfficeFilters.removeClass(classHide);});mobileLocationModal.on('click',function(){mobileOfficeFilters.addClass(classHide);});locationFooter.on('click',function(){$('.header .icon-globe').trigger('click');$('.menu-hamburger').trigger('click');mobileLocation.trigger('click');});}};})(jQuery,Drupal,once);;
(function($,Drupal,once){"use strict";Drupal.behaviors.authors={attach:function(context,settings){if($('.authors-page').length){let inputValue=$('.expand-search .form-text');let dropdownValue;let filterLabel=$('.author-select legend');let filterValues=$('.author-select .form-radios');let closeButton=$('.expand-search .close-button');let mobileauthorFilter=$('.authors-page .author-filter');let viewsWrapper=$('.author-cards .views-infinite-scroll-content-wrapper');viewsWrapper.addClass('coh-row-inner author-card');once('author-select-legend','.author-select legend',context).forEach((ele)=>{$(ele).on('click',function(e){filterValues.toggleClass('expanded');filterLabel.toggleClass('active');});});$('.author-select').on('keyup',function(e){if(e.keyCode=='13'){filterValues.toggleClass('expanded');filterLabel.toggleClass('active');}});inputValue.attr('autocomplete','off');$(document).on("click",function(event){if(filterLabel!==event.target&&!filterLabel.has(event.target).length){filterLabel.removeClass('active');filterValues.removeClass('expanded');}});authorFilter();clearSearch();function clearSearch(){if(inputValue.length&&inputValue.val().length){closeButton.addClass('show');$('.exoandablesearch .expand-search').addClass('open');}else closeButton.removeClass('show');}inputValue.on('keyup',clearSearch);once('authors-close-button-show','.close-button.show',context).forEach((ele)=>{$(ele).on('click',function(e){e.preventDefault();inputValue.val('');closeButton.removeClass('show');if($('.advanced-content-search').length)setTimeout(function(){$('.advanced-content-search .form-submit').trigger('click');},1000);else $('.exoandablesearch .form-submit').trigger('click');});});filterValues.find('label').on('click',function(){dropdownValue=$(this).text();authorFilter();});function authorFilter(){$(document).ajaxComplete(function(event,xhr,settings){if(dropdownValue)$('.author-select legend .fieldset-legend').text(dropdownValue);viewsWrapper.addClass('coh-row-inner author-card');clearSearch();});}once('authors-exoandablesearch','.exoandablesearch .expand-button',context).forEach((ele)=>{$(ele).on('click',function(e){e.preventDefault();$(this).closest('.expand-search').toggleClass('open');});});once('authors-mobile-author-filter','.mobile-author-filter .sort-filter',context).forEach((ele)=>{$(ele).on('click',function(){mobileauthorFilter.toggleClass('author-filter-show');$(this).toggleClass('close');});});}}};})(jQuery,Drupal,once);;
(function($,gsap,ScrollTrigger,SlowMo){"use strict";Drupal.behaviors.bgBigHeader={attach:function(context,settings){once('big-header','.heading-big',context).forEach((ele)=>{gsap.registerPlugin(ScrollTrigger,SlowMo);setTimeout(()=>{ScrollTrigger.create({trigger:ele,start:'top center',end:'bottom center',scrub:true,onToggle:(self)=>{if(self.isActive)gsap.to('body',{backgroundColor:'#232E3D',ease:'SlowMo'});else gsap.to('body',{backgroundColor:'#fff',ease:'SlowMo'});}});},1000);});}};})(jQuery,gsap,ScrollTrigger,SlowMo);;
